<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.ff61ad0fd03dcdcae0d6.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,500,600);@import url(https://fonts.googleapis.com/css?family=IBM+Plex+Sans:400,500,600);@import url(https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;0,600;1,400;1,500;1,600&display=swap);code[class*=language-],pre[class*=language-]{color:#fff;background:none;text-shadow:0 -.1em .2em #000;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;hyphens:none}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#4d4033}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:.3em solid #7a6652;border-radius:.5em;box-shadow:inset 1px 1px .5em #000}:not(pre)>code[class*=language-]{padding:.15em .2em .05em;border-radius:.3em;border:.13em solid #7a6652;box-shadow:inset 1px 1px .3em -.1em #000;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#998066}.token.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.constant,.token.number,.token.property,.token.symbol,.token.tag{color:#d1949e}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#bde052}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f5b83d}.token.atrule,.token.attr-value,.token.keyword{color:#d1949e}.token.important,.token.regex{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.deleted{color:red}.course{position:relative;width:100%}@media (min-width:992px){.course{display:flex;flex-wrap:nowrap;flex-direction:row;align-items:flex-start}}.course p{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course p{margin-left:1rem}}.course p:not(:last-of-type){margin-bottom:1rem}@media (min-width:640px){.course h1{margin-left:3rem}}.course h2,.course h3,.course h4{padding-bottom:2rem}@media (min-width:640px){.course h2,.course h3,.course h4,.course table{margin-left:1rem}}.course ul{font-family:IBM Plex Sans,monospace}@media (min-width:640px){.course ul{margin-left:2.2rem}}.course h2:not(:first-of-type){margin-top:2rem}.course pre{margin:2rem 0;background-color:var(--color-pre-background);color:#fff}.course em{font-family:Courier;font-style:normal;background-color:rgba(var(--color-main),.6);padding:1px 5px 2px}.course img{border:11px solid transparent}.course .banner,.course .container{position:static}.course .letter{width:4rem;height:4rem;border-width:5px;border-style:solid;border-radius:2.5rem;text-align:center;margin:1rem;line-height:1.3em;transform:translate(-1rem)}@media (min-width:640px){.course .letter{transform:translate(-3rem,4.5rem)}}.course .letter,.course h1{font-size:2.3rem;font-weight:700}.course-content-container{width:100%}.course-content a,.tasks a{border:0;border-bottom-width:2px;border-style:solid;padding:2px}.course-content a:hover,.tasks a:hover{color:#33332d}.course-content{width:90%;margin:0 auto;max-width:1200px}@media (min-width:992px){.course-content-inner{padding-left:30%;padding-right:5%}}.course-content-inner blockquote{padding-left:.5rem;border-left:2px solid #888}html[data-theme=dark] .tasks{background-color:var(--color-background)!important;border-left:5px solid;border-top:1px dotted;border-bottom:1px dotted}@media (min-width:992px){html[data-theme=dark] .tasks{border-left:15px solid}}.tasks a{border-color:var(--color-text)!important}.tasks a:hover{background-color:#fff!important;color:#000!important}.gatsby-highlight-code-line{background-color:hsla(0,0%,88.2%,.3);display:block;margin-right:-1em;margin-left:-1em;padding-right:1em;padding-left:1em}code[class*=language-],pre[class*=language-]{text-shadow:none}.arrow-go-up{width:36px;height:36px;position:fixed;bottom:5%;right:5%;z-index:40;cursor:pointer}html[data-theme=dark] .arrow-go-up{filter:invert(1)}@media (max-width:639px){.arrow-go-up{right:10%}}.part-main__banner{background-position:50%;background-size:50%;padding-bottom:10%;background-repeat:no-repeat}@media (max-width:639px){.part-main__banner{background-position:top;background-size:70%;padding-bottom:30%!important}}.part-intro{font-family:IBM Plex Sans,monospace!important}.part-intro li,.part-intro p{color:#33332d}.part-intro p:not(:last-of-type){padding-bottom:2em}.part-intro__banner{background-size:50%;background-repeat:no-repeat;background-position:100%}@media (max-width:639px){.part-intro__banner{background-position:top;background-size:70%}.part-intro__banner>.container{margin-top:40%}}.part-intro a{color:#33332d;border-bottom:1px solid #33332d}.part-intro a:hover{background-color:#fff}.arrow__container{position:relative}.arrow__container:not():first-child{background:none;background-color:none}@media (min-width:640px){.arrow__container:not():first-child{border-left:none}.arrow__container:not():first-child:before{content:"";background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjwhLS1HZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCktLT48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkNhcGFfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA0NzcuMTc1IDQ3Ny4xNzUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZD0iTTM2MC43MzEsMjI5LjA3NWwtMjI1LjEtMjI1LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwcy01LjMsMTMuOCwwLDE5LjFsMjE1LjUsMjE1LjVsLTIxNS41LDIxNS41CgkJYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0YzMuNCwwLDYuOS0xLjMsOS41LTRsMjI1LjEtMjI1LjFDMzY1LjkzMSwyNDIuODc1LDM2NS45MzEsMjM0LjI3NSwzNjAuNzMxLDIyOS4wNzV6CgkJIi8+PC9nPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjxnLz48Zy8+PGcvPjwvc3ZnPg==) no-repeat;background-size:contain;position:absolute;top:0;left:0;height:100%;width:100%}}.arrows--horizontal{display:flex;position:relative;margin:0;align-items:flex-start}.arrow__wrapper{display:flex;justify-content:flex-start;align-items:center;margin:0}.arrow__wrapper:first-of-type{border-right:none;z-index:20}.arrow__wrapper:nth-of-type(n+2){margin-left:-4rem;z-index:10}.arrow__wrapper:nth-of-type(n+2) .arrow__rectangle{border-left:none;padding-left:4rem}.arrow__wrapper:nth-of-type(3){z-index:5}.arrow__wrapper:hover .arrow__point,.arrow__wrapper:hover .arrow__rectangle,.arrow__wrapper:hover .arrow__rectangle>a{background-color:#33332d!important;color:#fff!important}.arrow__rectangle{padding:1rem;justify-content:center;align-items:center;border:2px solid #33332d;border-right:none;z-index:2;overflow:hidden;font-family:IBM Plex Sans,monospace;position:relative}.arrow__rectangle a{color:#33332d}@media (max-width:991px){.arrow__rectangle{font-size:1rem}}.arrow__rectangle .bold{font-weight:600}.arrow__rectangle--thick-border{border:3px solid #33332d;border-right:none}.arrow__point{padding:1.25rem;border:2px solid #33332d;border-bottom:none;border-left:none;transform:translate(-1.3rem) rotate(45deg);z-index:1;overflow:hidden}.arrow__point--thick-border{border:3px solid #33332d;border-bottom:none;border-left:none}.arrow__wrapper--stacked{display:flex;justify-content:flex-start;align-items:center;margin:auto auto auto 0}@media (max-width:639px){.arrow__wrapper--stacked .arrow__rectangle{border:none;background-color:transparent!important;padding:0;font-size:1rem;justify-content:unset}.arrow__wrapper--stacked .arrow__rectangle>p>span{border-bottom:1px solid #33332d;margin:auto}.arrow__wrapper--stacked .arrow__rectangle>p>span:hover{background-color:#fff!important;color:#000}.arrow__wrapper--stacked .arrow__point{display:none}}.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:1rem}@media (min-width:640px){.arrow__wrapper--stacked:nth-of-type(n+2){margin-top:-2px}}.arrow__wrapper--stacked .arrow__rectangle{position:relative}@media (min-width:640px){.arrow__wrapper--stacked .arrow__rectangle{padding:1.25rem}}@media (min-width:992px){.arrow__wrapper--stacked .arrow__rectangle{padding:1rem}}.arrow__wrapper--stacked .arrow__point{padding:1.08rem;margin-left:2px}@media (min-width:640px){.arrow__wrapper--stacked .arrow__point{margin-left:unset;padding:1.25rem}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow__point,.arrow__wrapper--stacked:hover .arrow__rectangle{background-color:#33332d!important}}@media (min-width:640px){.arrow__wrapper--stacked:hover .arrow--stacked-letter,.arrow__wrapper--stacked:hover .arrow--stacked-title{color:#fff}}.arrow--stacked-title{font-family:IBM Plex Mono,monospace;color:#33332d}@media (min-width:640px){.arrow--stacked-title{white-space:nowrap}}.arrow__container--with-link{width:100%!important}@media (max-width:639px){.breadcrumb .arrow__wrapper{display:none}}.breadcrumb .arrow__wrapper:hover .arrow__point,.breadcrumb .arrow__wrapper:hover .arrow__rectangle{background-color:#33332d!important}.breadcrumb .arrow__wrapper:hover .arrow--stacked-letter,.breadcrumb .arrow__wrapper:hover .arrow--stacked-title{color:#fff}.breadcrumb .arrow__rectangle{position:relative}@media (max-width:639px){.breadcrumb .arrow__rectangle{border:none;padding:0;font-size:.7rem;white-space:nowrap;background-color:transparent!important;color:#33332d}}@media (max-width:639px){.breadcrumb .arrow__point{display:none}}.banner{display:flex;width:100%;align-items:center;position:relative;padding:2rem 0;background-color:var(--color-main)}@media (min-width:992px){.banner{padding:3.444rem 3.444rem 4.444rem}}html{font-family:IBM Plex Mono,monospace;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:IBM Plex Mono,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em IBM Plex Mono,monospace;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:hsla(var(--color-text-hsl),.8);font-family:IBM Plex Mono,monospace;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{margin:2rem 0 -.5rem;font-size:1.38316rem}h3,h4{padding:0;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{margin:2rem 0 -1rem;font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:IBM Plex Mono,monospace;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:hsla(var(--color-text-hsl),.04);border-radius:3px;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:hsla(var(--color-text-hsl),.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted hsla(var(--color-text-hsl),.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid hsla(var(--color-text-hsl),.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:hsla(var(--color-text-hsl),.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}:root,html[data-theme=light]{--color-background:#fff;--color-text:#33332d;--color-text-hsl:0,0%,0%;--color-link-decoration:#e1e1e1;--color-main:#e1e1e1;--color-pre-background:#33332d}html[data-theme=dark]{--color-background:#33332d;--color-text:#fff;--color-text-hsl:0,100%,100%;--color-link-decoration:#a0a0a0;--color-main:#212121;--color-pre-background:#212121}body,html{margin:0;padding:0;font-family:IBM Plex Mono,monospace;font-weight:400;background-color:var(--color-background);color:var(--color-text);font-size:14px;line-height:1.555rem}@media (min-width:992px){body,html{font-size:18px}}.main-wrapper{min-height:100vh;display:flex;flex-direction:column}p{margin:0;text-align:left;line-height:1.5em}a,p{color:var(--color-text)}a{text-decoration:none}.link a{border-bottom:2px solid var(--color-link-decoration)}.link a:hover{background-color:var(--color-main)}.container{position:relative;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:space-between;width:90%;max-width:1300px}@media (max-width:639px){.container{padding:0 20px}}@media (min-width:992px){.container--right{margin-right:5%;width:54%;max-width:779.9844px}}@media (min-width:992px) and (min-width:1300px){.container--right{margin-right:calc(50% - 650px)}}.hidden{display:none!important}.centered{text-align:center}@media (max-width:639px){.centered--mobile{justify-content:center;align-content:center;align-items:center}}.spacing{margin-top:2rem}@media (max-width:992px) and (min-width:640px){.spacing--tablet{margin-top:5rem!important}}@media (min-width:992px){.spacing{margin-top:5rem}}.spacing--small{margin-top:1rem}@media (min-width:992px){.spacing--small{margin-top:3.444rem}}.spacing--large{margin-top:4rem}@media (min-width:992px){.spacing--large{margin-top:10rem}}.spacing--extra-large{margin-top:4rem}@media (min-width:992px){.spacing--extra-large{margin-top:20rem}}.spacing--after{margin-bottom:2rem}@media (min-width:992px){.spacing--after{margin-bottom:5rem}}@media (max-width:639px){.spacing--after--mobile{margin-bottom:5rem}}@media (min-width:992px){.spacing--after-small{margin-bottom:2.5rem}}.spacing--after-large{margin-bottom:4rem}@media (min-width:992px){.spacing--after-large{margin-bottom:10rem}}@media (max-width:991px){.spacing--mobile{margin-top:2rem}}@media (max-width:1299px){.spacing--mobile--small{margin-top:1.5rem}}@media (max-width:1299px){.spacing--mobile--large{margin-top:3rem}}.col-1{width:100%}@media (min-width:992px){.col-1{width:10%}}.col-2{width:100%}@media (min-width:992px){.col-2{width:20%}}.col-3{width:100%}@media (min-width:992px){.col-3{width:30%}}.col-4{width:100%}@media (min-width:992px){.col-4{width:40%}}.col-5{width:100%}@media (min-width:992px){.col-5{width:50%}}.col-6{width:100%}@media (min-width:992px){.col-6{width:60%}}.col-7{width:100%}@media (min-width:992px){.col-7{width:70%}}.col-8{width:100%}@media (min-width:992px){.col-8{width:80%}}.col-9{width:100%}@media (min-width:992px){.col-9{width:90%}}.col-10{width:100%}@media (min-width:992px){.col-10{width:100%}}@media (min-width:992px){.push-right-1{margin-left:10%}.push-right-2{margin-left:20%}.push-right-3{margin-left:30%}.push-right-4{margin-left:40%}.push-right-5{margin-left:50%}.push-left-1{margin-right:10%}.push-left-2{margin-right:20%}.push-left-3{margin-right:30%}.push-left-4{margin-right:40%}.push-left-5{margin-right:50%}.push-left{margin-right:auto}.push-right{margin-left:auto}}@media (max-width:639px){.col-1--mobile{width:10%!important}.col-2--mobile{width:20%!important}.col-3--mobile{width:30%!important}.col-4--mobile{width:40%!important}.col-5--mobile{width:50%!important}.col-6--mobile{width:60%!important}.col-7--mobile{width:70%!important}.col-8--mobile{width:80%!important}.col-9--mobile{width:90%!important}.col-10--mobile{width:100%!important}.push-right-1--mobile{margin-left:10%!important}.push-right-2--mobile{margin-left:20%!important}.push-right-3--mobile{margin-left:30%!important}.push-right-4--mobile{margin-left:40%!important}.push-right-5--mobile{margin-left:50%!important}.push-left-1--mobile{margin-right:10%!important}.push-left-2--mobile{margin-right:20%!important}.push-left-3--mobile{margin-right:30%!important}.push-left-4--mobile{margin-right:40%!important}.push-left-5--mobile{margin-right:50%!important}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}@media (max-width:1299px){.col-1--tablet{width:10%}.col-2--tablet{width:20%}.col-3--tablet{width:30%}.col-4--tablet{width:40%}.col-5--tablet{width:50%}.col-6--tablet{width:60%}.col-7--tablet{width:70%}.col-8--tablet{width:80%}.col-9--tablet{width:90%}.col-10--tablet{width:100%}.order-0--tablet{order:0}.order-1--tablet{order:1}.order-2--tablet{order:2}.order-3--tablet{order:3}.order-4--tablet{order:4}.order-5--tablet{order:5}.order-0--mobile{order:0}.order-1--mobile{order:1}.order-2--mobile{order:2}.order-3--mobile{order:3}.order-4--mobile{order:4}.order-5--mobile{order:5}.hidden--mobile{display:none}}.centered-vertically{display:flex;flex-direction:column;justify-content:center}.nav-item-hover{text-decoration:none;color:var(--color-text);font-weight:500;padding:.2em}@media (min-width:640px){.nav-item-hover{font-weight:600}}.nav-item-hover:active,.nav-item-hover:focus,.nav-item-hover:hover{color:var(--color-background);background-color:var(--color-text)!important}.nav-item-hover:active,.nav-item-hover:focus{outline:2px solid #706be4}.nav-item-active{border-bottom:2px solid var(--color-text)}.flex-fix-aligning:after,.flex-fix-aligning:before{content:"";width:30%;order:2}.auto-bottom-margin{margin-bottom:auto}.frontpage-hero{flex-direction:column;flex-wrap:nowrap}@media (max-width:991px){.frontpage-hero__content{z-index:1;margin-bottom:3rem}}.frontpage-hero__heading{-webkit-hyphens:auto;hyphens:auto;font-size:2rem}@media (min-width:640px){.frontpage-hero__heading{font-size:2.5rem}}@media (min-width:1300px){.frontpage-hero__heading{font-size:3rem}}.frontpage-hero__cta{display:inline-block;margin-bottom:4rem}.frontpage-hero__description{max-width:626px}@media (max-width:991px){.frontpage-hero__image{position:absolute!important;right:-5%;top:-40px;opacity:.1}.frontpage-hero__image img{transform:translateX(33%)}}@media (max-width:639px){.frontpage-hero__image{right:-40px}}.heading-font{font-family:IBM Plex Sans,monospace}.about__challenge-button{box-shadow:-3px 5px var(--color-text);padding:.6rem 1rem;border:3px solid var(--color-text);font-weight:600}.about__challenge-button:hover{background-color:var(--color-text);color:var(--color-background);cursor:pointer}.about__challenge-button--turquoise{background-color:#82f7eb}html[data-theme=dark] .about__challenge-button{color:var(--color-text);box-shadow:-3px 5px var(--color-text);border:3px solid var(--color-text)}html[data-theme=dark] .about__challenge-button:hover{background-color:var(--color-text);color:var(--color-background)}html[data-theme=dark] .about__challenge-button--turquoise{color:var(--color-main);box-shadow:-3px 5px var(--color-main);border:3px solid var(--color-main)}html[data-theme=dark] .about__challenge-button--turquoise:hover{background-color:var(--color-main);color:var(--color-text)}@media (max-width:1299px){.space-between--mobile{justify-content:space-between}}.challenge__banner{display:flex;justify-content:center;margin-bottom:-70px}@media (min-width:640px){.challenge__banner{transform:translateY(-10px)}}@media (min-width:1300px){.challenge__banner{margin-bottom:-370px}}.challenge__banner .image{margin:0;width:70%;transform:translateY(-25%)}@media (min-width:640px){.challenge__banner .image{transform:translateY(-10%)}}@media (min-width:1300px){.challenge__banner .image{transform:translateY(-30%)}}.header{position:-webkit-sticky;position:sticky;z-index:50;top:0;box-sizing:border-box;width:100%;padding-top:1.444rem;padding-bottom:1rem;transition:all .2s ease-in-out}.header--small{pointer-events:none}.header__logo{margin:0 10px;pointer-events:auto}.navigation{z-index:2;list-style:none;opacity:0;display:none;margin:0;padding:5%;flex-direction:column;justify-content:center;align-items:center;background:var(--color-main);position:fixed;top:8%;right:5%;transition:opacity .3s ease-in-out;font-weight:200}@media (min-width:1300px){.navigation{display:flex;opacity:1;padding:0;font-weight:400;position:static;background:none;overflow:hidden;flex-direction:row}}@media (max-width:1299px){.navigation__wrapper .language-switcher{margin:20px 0 0}}@media (min-width:1300px){.navigation__wrapper{flex-grow:100}}@media (max-width:1299px){.navigation__language-picker{margin-top:10px}}.navigation__icon-buttons{margin:30px 0 0}@media (min-width:1300px){.navigation__icon-buttons{width:100%;display:flex;justify-content:flex-end;margin:0 20px 0 0}}.navigation__toggle{z-index:3;position:absolute;top:0;right:0;width:50px;height:40px;cursor:pointer;border:none;background:none;outline:none;border-radius:4px}@media (min-width:1300px){.navigation__toggle{display:none}}.navigation__mobile-logo{display:none}.navigation__toggle-icon{top:8px;left:10px}.navigation__toggle-icon,.navigation__toggle-icon:after,.navigation__toggle-icon:before{position:absolute;width:30px;height:3px;transition:all .3s ease;border-radius:4px;background-color:var(--color-text)}.navigation__toggle-icon:after,.navigation__toggle-icon:before{content:"";display:block}.navigation__toggle-icon:before{top:10px}.navigation__toggle-icon:after{top:20px}@media (max-width:1299px){.is-open--navigation{overflow:hidden;height:100vh}.is-open--navigation .navigation{opacity:1;display:flex;align-items:flex-start}.is-open--navigation .navigation:before{content:"";background-color:var(--color-main);position:absolute;width:25px;height:25px;top:-3px;right:13px;transform:rotate(45deg)}.is-open--navigation .navigation__mobile-logo{display:block;width:30px;height:30px;position:absolute;top:47px;left:5%}}@media (max-width:1299px) and (min-width:1300px){.is-open--navigation .navigation__mobile-logo{display:none}}@media (max-width:1299px){.is-open--navigation .navigation__toggle-icon{transform:translate3d(0,10px,0) rotate(45deg)}.is-open--navigation .navigation__toggle-icon,.is-open--navigation .navigation__toggle-icon:after,.is-open--navigation .navigation__toggle-icon:before{background:var(--color-text)}.is-open--navigation .navigation__toggle-icon:before{transform:rotate(-45deg) translate3d(-5.71429px,-6px,0);opacity:0}.is-open--navigation .navigation__toggle-icon:after{transform:translate3d(0,-19px,0) rotate(-90deg)}}.navigation__item{margin:10px 0;white-space:nowrap}.navigation__item:first-of-type{margin:0 0 10px}.navigation__item:last-of-type{margin:10px 0 0}@media (min-width:1300px){.navigation__item{margin:0 15px;padding:0!important}.navigation__item:first-of-type{margin:0 15px 0 2rem}.navigation__item:last-of-type{margin:0 0 0 15px}}.SrOnly-module--srOnly--2Hn2L{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.LanguagePicker-module--select--364N3{padding:3px 6px;-webkit-appearance:none;appearance:none;border:1px solid var(--color-text);border-radius:5px;color:#33332d;background-color:#fff;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%23333333' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 6px center;background-size:16px 12px;width:7rem;min-width:7rem}.SvgIcon-module--svgIcon--1nGJ6{-webkit-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;flex-shrink:0;font-size:1.5rem}.element--flex{display:flex;flex-wrap:wrap}.element--space-around{justify-content:space-around}.element--space-between{justify-content:space-between}.element--column{flex-direction:column}.element--centered{align-items:center;justify-content:center!important}@media (min-width:992px){.element--centered-in-desktop{align-items:center;justify-content:center!important}}@media (min-width:992px){.element--horizontal-half{width:45%}}.element--auto-margin{margin:auto}.element--auto-bottom-margin{margin-bottom:auto}.element--flex-start{align-content:flex-start}.element--no-wrap{flex-wrap:nowrap}.element--relative{position:relative!important}.edit-link>span{border-bottom-width:3px;border-bottom-style:solid;border-bottom-color:inherit}.edit-link:hover{color:#33332d}.SearchLink-module--searchLink--2IShR{margin-right:20px;border-radius:4px;padding:4px;display:inline-flex}.SearchLink-module--searchLink--2IShR:focus,.SearchLink-module--searchLink--2IShR:hover{background-color:var(--color-text);color:var(--color-background)}.ThemeSwitcher-module--themeSwitcher--1gbnJ{border-radius:4px;padding:4px;display:inline-flex;background:none;border:none;color:var(--color-text)}.ThemeSwitcher-module--themeSwitcher--1gbnJ:hover{background-color:var(--color-text)!important;color:var(--color-background)!important;cursor:pointer}.ThemeSwitcher-module--themeSwitcher--1gbnJ:focus{background-color:var(--color-text);color:var(--color-background)}.ThemeSwitcher-module--themeSwitcher--1gbnJ:focus:not(:focus-visible){color:var(--color-text);background:none}.triple-border{position:relative;padding:2px;border-radius:5px 0;transition:color .1s ease-in-out,background-color .1s ease-in-out}.triple-border:after,.triple-border:before{z-index:2;content:"";border:2px solid var(--color-text);border-radius:5px;position:absolute;width:calc(100% + 5px);height:calc(100% + 5px)}.triple-border:before{left:0;top:0}.triple-border:after{bottom:0;right:0}.triple-border__container{position:relative;overflow:hidden;border-radius:3px 0}.triple-border--large-margin{margin:13px;padding:3px}.triple-border--large-margin:after,.triple-border--large-margin:before{content:"";border-width:3px;border-radius:13px;width:calc(100% + 13px);height:calc(100% + 13px)}.triple-border--large-margin .triple-border__container{border-radius:10px 0}.triple-border__logo{padding:.2rem;font-size:1.111rem;font-weight:600}html[data-theme=dark] .triple-border:hover .triple-border__logo--small{color:#33332d!important}.triple-border__return-tasks{font-size:.9rem;padding:1rem .2rem}.accordion__container{margin-bottom:1rem}.accordion__title{padding-left:2.149rem!important;padding-right:2.149rem!important;font-size:1.111rem!important;font-weight:600}.accordion{background-color:var(--color-background);border:3px solid var(--color-text);border-radius:5px;color:var(--color-text);cursor:pointer;padding:1rem;width:100%;text-align:left;outline:none;font-size:15px;transition:max-width .4s}.accordion:focus,.accordion:hover,.active{background-color:var(--color-main)}.active:focus{border:3px solid var(--color-text)}.accordion:after{content:"+";font-size:1.5rem;float:right;margin-left:5px}.active,.active:not(:focus-visible){border-color:var(--color-background)}.active:after{content:"-";font-size:1.5rem}.panel{background-color:var(--color-background);padding:2rem 18px}.accordion--side-navigation{width:100%;margin-left:unset}.accordion--side-navigation .accordion{border:none;padding:0!important;background-color:transparent!important;color:var(--color-text)!important;border-radius:0}.accordion--side-navigation .accordion__title{font-size:16px!important;font-weight:unset;background-color:transparent}.accordion--side-navigation .accordion__title:hover{background-color:var(--color-text)!important;color:var(--color-background)!important}.accordion--side-navigation .panel{padding:1rem 0 0!important;background-color:transparent}.accordion--side-navigation .panel ul{margin-left:1rem}.accordion--side-navigation .accordion:hover,.accordion--side-navigation .active{background-color:var(--color-text);color:var(--color-background)}.accordion--side-navigation .accordion:after,.accordion--side-navigation .active:after{content:""}#footer{margin-top:auto}@media (min-width:992px){#footer{align-items:center}}#footer a:hover{background-color:transparent!important}#footer .footer__navigation{display:none}@media (max-width:1299px){#footer .footer__navigation{width:100%;display:block}#footer .footer__navigation-link-container{display:flex;flex-direction:column}}#footer .footer__navigation-link{font-size:1rem;line-height:18px;white-space:nowrap;font-family:IBM Plex Sans,monospace;margin-left:0!important;margin-right:auto}@media (max-width:639px){#footer .footer__navigation-link{line-height:8px}}#footer .footer__navigation-link:hover{color:var(--color-background)!important;background-color:var(--color-text)!important}#footer .footer__navigation-link:nth-of-type(n+2){margin-top:2.142rem}@media (min-width:1300px){#footer .footer__navigation{flex-direction:row;flex-wrap:nowrap;justify-content:flex-end}#footer .footer__navigation-link{margin-top:0!important;margin-bottom:auto}#footer .footer__navigation-link:nth-of-type(n+1){margin-right:2.877rem}#footer .footer__navigation-link:last-of-type{margin-right:0!important}}.image__content{position:absolute;top:0;left:0;height:100%;width:100%;object-fit:cover}.image--contain .image__content{object-fit:contain}.image{overflow:hidden;width:100%;position:relative}@media (min-width:992px){.image{width:40%}}.image .image__container{height:0;position:relative;width:100%;padding-bottom:89.0625%}.image--circle{border-radius:50%}.image--circle .image__content{background-color:var(--color-main)}.image--square-big{width:100%}.image--square-big .image__container{width:100%;padding-bottom:100%}.image--extra-small{width:8%}.image--extra-small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--extra-small{width:calc(33.33333% - 1rem)}}.image--small{width:15%}.image--small .image__container{width:100%;padding-bottom:100%}@media (max-width:639px){.image--small{width:calc(33.33333% - 1rem)}}.image--medium{width:50%}.image--medium .image__container{width:100%;padding-bottom:71.25%}.image--large{width:100%}@media (min-width:992px){.image--large{width:60%}}.image--large .image__container{padding-bottom:59.37%;width:100%}.image--full-width{width:100%}.image--full-width .image__container{padding-bottom:59.37%;width:100%}.image--actual-size{width:100%}.image--actual-size .image__container{height:0;position:relative;width:100%;padding-bottom:60%}html[data-theme=dark] .image--backdrop .image__container{background:#fff;border-radius:10px}html[data-theme=dark] .image--invert img{filter:invert(1)}.body-text:not(:last-of-type){margin-bottom:2.5rem}.body-text__title{color:var(--color-text);font-size:1.44rem;line-height:1.25em;font-weight:700;margin:0;position:relative;top:50%;transform:translateY(-50%)}.body-text__content:not(:last-of-type){padding-bottom:2em}.bold{font-weight:700}.body-text--no-padding{padding:0!important}@media (min-width:640px){.companies__main-title .body-text__title{font-size:3rem}}.challenge-title{font-size:1.44rem}.company__logo{padding:10px}@media (min-width:992px){.company__logo{width:15%!important}}.content-liftup{position:relative;text-decoration:none}.content-liftup--small{box-sizing:border-box}.content-liftup--small>:last-child{margin-bottom:0}.content-liftup--padding{padding:10px}.content-liftup__name{margin-top:1.5rem;color:var(--color-text);font-weight:700}@media (min-width:992px){.content-liftup__name{margin-top:2rem}}.content-liftup__summary{margin-top:1rem;margin-bottom:3rem;color:var(--color-text);line-height:28px}.content-liftup__link:focus .image{opacity:.6}.content-liftup__link:focus:not(:focus-visible) .image{opacity:1}.content-liftup .content-liftup__image:after{content:"";position:absolute;top:0;left:0;height:100%;width:100%;opacity:.5;z-index:2}.form p{font-family:IBM Plex Sans,monospace;font-size:.9rem;margin-bottom:10px}.form input{padding:1rem;border:1px solid var(--color-main);outline:0}.form input:focus{border:1px solid var(--color-text)}.form .submit{border:3px solid var(--color-text);color:var(--color-text);background-color:var(--color-background);padding:.7rem 2rem}.form .submit:hover{cursor:pointer}.form .submit:hover,.skip-to-content{background-color:var(--color-text);color:var(--color-background)}.skip-to-content{position:absolute;top:-50px;left:50%;height:50px;padding:0 30px;transform:translateX(-50%);border-radius:0 0 3px 3px;transition:top .3s;display:inline-flex;justify-content:center;align-items:center;z-index:100}.skip-to-content:focus{top:0;transition:top .25s}.prev-next__container a:hover{color:#33332d;background-color:#fff}.prev-next__container a:hover b,.prev-next__container a:hover p{color:#33332d}.prev-next__container .separator{display:none}@media (max-width:639px){.prev-next__container .separator{display:block;background-color:var(--color-text);width:2px!important}}.prev-next__container .prev b,.prev-next__container .prev p{text-align:right}@media (max-width:639px){.prev-next__container .prev p:before{content:"<";margin-right:1rem}}@media (max-width:639px){.prev-next__container .next p:after{content:">";margin-left:1rem}}.scroll-navigation-container{display:none}@media (min-width:992px){.scroll-navigation-container{pointer-events:none;display:block;font-size:16px;position:-webkit-sticky;position:sticky;width:100%;margin-right:-100%;left:0;top:-100px;padding-top:200px}}.scroll-navigation-container-inner{width:90%;margin:0 auto;max-width:1200px}.scroll-navigation{pointer-events:auto;display:flex;width:30%;max-width:30%/.9;height:100%;overflow-y:auto;max-height:calc(100vh - 100px);padding-right:1rem;z-index:30}.scroll-navigation li{list-style-type:none}.scroll-navigation li.selected a,.scroll-navigation li:hover a{background-color:var(--color-text);color:var(--color-background)!important}.scroll-navigation li:before{content:"-"}.left-navigation-link{padding-left:1.2rem;text-indent:-1.2rem;display:block}.left-navigation-link:hover{background-color:var(--color-text)!important;color:var(--color-background)!important}.level-h1{font-weight:700;padding-left:2.8rem;text-indent:-2.8rem}.level-h2{padding-left:1.6rem;text-indent:-1.6rem}.developer-story__image{margin-bottom:auto}html[data-theme=dark] .developer-story__company-logo-wrapper{margin-bottom:20px;display:inline-flex;justify-content:center;align-items:center;background:#fff;border-radius:10px;padding:15px}html[data-theme=dark] .developer-story__company-logo-wrapper img{margin:0 auto}.developer-story__name{margin-top:4rem;font-size:1.2rem}.developer-story__title{font-size:.9rem}.developer-story__read-more{margin-top:2rem;line-height:1.1rem;width:auto;background:none;color:inherit;border:none;padding:0!important;border-bottom:2px solid var(--color-link-decoration);cursor:pointer}.developer-story__read-more:hover{background-color:var(--color-main)}.some-logo__link{margin:1rem 1rem 0 0;display:inline-block}.some-logo__image{width:1.5rem;height:1.5rem;margin:0}html[data-theme=dark] .some-logo__image{filter:invert(1)}.sub-header{color:var(--color-text);font-family:IBM Plex Mono,monospace;padding-bottom:1.357rem}@media (min-width:992px){.sub-header{padding-bottom:2.333rem}}.copy-code-button,.copy-code-button:host{display:inline-flex}.copy-code-button{align-items:center;justify-content:center;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:0;padding:.5rem;background:var(--color-pre-background);border:none;border-radius:.25rem;box-shadow:0 .25rem .5rem rgba(0,0,0,.25);color:#fff;cursor:pointer;font-weight:600;opacity:.2;transition:.2s ease-in-out}.copy-code-button:hover{opacity:1}.copy-code-button:active{opacity:0;color:red}pre{overflow:auto;padding:1rem;border-radius:.5rem;position:relative}pre .copy-code-button{position:absolute;top:.5rem;right:.5rem}code{white-space:pre-wrap!important}.InputField-module--inputField--3oXh5{-webkit-appearance:none;appearance:none;width:100%;border:0;font-family:inherit;padding:16px 12px;box-shadow:inset 0 -1px 0 var(--color-text);color:var(--color-text);background-color:var(--color-background);transition:all .15s ease}.InputField-module--inputField--3oXh5:hover{box-shadow:inset 0 -2px 0 var(--color-text)}.InputField-module--inputField--3oXh5:focus{outline:none;box-shadow:inset 0 -2px 0 var(--color-text)}</style><meta name="generator" content="Gatsby 2.32.13"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><title data-react-helmet="true">Fullstack part9 | </title><meta data-react-helmet="true" name="description" content=""/><meta data-react-helmet="true" property="og:title" content="Fullstack part9 | "/><meta data-react-helmet="true" property="og:description" content=""/><meta data-react-helmet="true" name="og:image" content="/static/EYE_green_wide-0a72f74a959f54d0f3e4bb8c67f6f158.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Houston Inc. Consulting oy"/><meta data-react-helmet="true" name="twitter:title" content="Fullstack part9 | "/><meta data-react-helmet="true" name="twitter:description" content=""/><meta data-react-helmet="true" name="twitter:image" content="/static/EYE_green_wide-0a72f74a959f54d0f3e4bb8c67f6f158.jpg"/><meta data-react-helmet="true" name="google-site-verification" content="ds9pQKiK3kjhRSHHbf5ccoG-oJggn7Lq4A8uHxM3Mkw"/><meta data-react-helmet="true" name="keywords" content="fullstack, Full stack -websovelluskehitys, course, helsingin yliopisto, tietojenkäsittelytieteen osasto, mooc, mooc.fi, full stack, full stack open, web-sovelluskehitys, web, houston, houston inc, websovelluskehitys, web-sovellus, React, Redux, Node.js, Node, MongoDB, GraphQL, REST, REST api, single page -sovellus, ohjelmointi, university of helsinki, department of computer science, web development, software development, web, web application, single page app, programming, "/><link rel="icon" href="/favicon-32x32.png?v=6460c405ec32c913ef778f48c5ab192e" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#e1e1e1"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=6460c405ec32c913ef778f48c5ab192e"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="canonical" href="https://fullstackopen.com/zh/part9/利用_type_script编写_react应用" data-baseprotocol="https:" data-basehost="fullstackopen.com"/><script>
  (function() {
    try {
      const savedTheme = localStorage.getItem('selected_theme');

      if (savedTheme) {
        document.documentElement.dataset.theme = savedTheme;
      } else if (
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      ) {
        document.documentElement.dataset.theme = 'dark';
      }
    } catch (e) {}
  })();
  </script><link as="script" rel="preload" href="/component---src-templates-content-template-js-4406c369231162a4fbf6.js"/><link as="script" rel="preload" href="/d2b1ca4b1069f7cfc0ac3ccd2306fbb8e76bcf35-64ebe0edfea870eb240d.js"/><link as="script" rel="preload" href="/2d359d657f593a857b7e0d916f29b2126c86bebb-dcc47509ede0fcbd2a57.js"/><link as="script" rel="preload" href="/881c8b7a675fce2ced9b02a4a469c0443336d5f7-8e4483d8931a6891bd9a.js"/><link as="script" rel="preload" href="/0f38e1748197b5a213e89e1df6d5db13e5e7856d-d76ddecd1e2b1493a5eb.js"/><link as="script" rel="preload" href="/commons-812a674efd622c81812e.js"/><link as="script" rel="preload" href="/app-7d4c4feb9d684f89c0fd.js"/><link as="script" rel="preload" href="/framework-815fd14513c40a98f576.js"/><link as="script" rel="preload" href="/styles-0ec71dd62c66cb95665c.js"/><link as="script" rel="preload" href="/webpack-runtime-fd77dc297b1e1c2d561f.js"/><link as="fetch" rel="preload" href="/page-data/zh/part9/利用_type_script编写_react应用/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3128451518.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="main-wrapper"><a href="#course-main-content" class="skip-to-content">跳到内容</a><header class="header " style="background-color:var(--color-background)"><div class="container" style="align-items:center;justify-content:flex-start"><a class="header__logo" href="/zh/"><div class="triple-border nav-item-hover " style="padding:0.2em"><div class="triple-border__container triple-border__logo" style="background-color:transparent;z-index:10">{() =&gt; fs}</div></div></a><div class="navigation__wrapper "><button aria-label="Navigation menu" aria-expanded="false" class="navigation__toggle"><div class="navigation__toggle-icon"></div></button><nav><ul class="navigation"><li class="navigation__item "><a class="nav-item-hover" href="/zh/about">关于课程</a></li><li class="navigation__item "><a class="nav-item-hover" href="/zh/#course-contents">课程内容</a></li><li class="navigation__item "><a class="nav-item-hover" href="/zh/faq">常见问题</a></li><li class="navigation__item "><a class="nav-item-hover" href="/zh/companies">合作伙伴</a></li><li class="navigation__item "><a class="nav-item-hover" href="/zh/challenge">挑战</a></li><div class="navigation__icon-buttons"><a class="SearchLink-module--searchLink--2IShR" href="/zh/search"><span class="SrOnly-module--srOnly--2Hn2L">从教程中搜索</span><svg role="img" viewBox="0 0 24 24" class="SvgIcon-module--svgIcon--1nGJ6"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></a><button class="ThemeSwitcher-module--themeSwitcher--1gbnJ" aria-pressed="false"><span class="SrOnly-module--srOnly--2Hn2L">切换黑暗主题</span><svg role="img" viewBox="0 0 384 512" class="SvgIcon-module--svgIcon--1nGJ6"><path d="M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"></path></svg></button></div><span class="SrOnly-module--srOnly--2Hn2L"><label for="language-select">选择语言</label></span><select id="language-select" class="navigation__language-picker LanguagePicker-module--select--364N3" style="font-size:1em"><option value="fi">Suomi</option><option value="en">English</option><option selected="" value="zh">中文</option><option value="es">Español</option><option value="fr">Français</option><option value="ptbr">Português(BR)</option></select></ul></nav></div></div></header><main id="main-content"><div class="course-container spacing--after"><div class="banner part-main__banner spacing--mobile--small" style="background-image:url(/static/ed8ae98c5d885b4d1928a681eefbe7c4/part-9.svg);background-color:#D4FCB5"><div class="container spacing--after"><div class="col-10 spacing--after"><div class="arrow__container arrows--horizontal breadcrumb"><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#D4FCB5;color:#33332d"><a href="/zh/#course-contents">Fullstack</a></div><div class="arrow__point " style="background-color:#D4FCB5;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#D4FCB5;color:#33332d"><a href="/zh/part9">Part 9</a></div><div class="arrow__point " style="background-color:#D4FCB5;color:#33332d"></div></div><div class="arrow__wrapper"><div class="arrow__rectangle  " style="background-color:#33332d;color:white">利用TypeScript编写React应用</div><div class="arrow__point " style="background-color:#33332d;color:white"></div></div></div></div></div></div><div class="course " id="course-main-content"><div class="scroll-navigation-container "><div class="scroll-navigation-container-inner "><div class="scroll-navigation  element--column" tag="ul"><a class="left-navigation-link" style="border-color:#D4FCB5" href="/zh/part9/背景与介绍">a 背景与介绍</a><a class="left-navigation-link" style="border-color:#D4FCB5" href="/zh/part9/type_script的一小步">b TypeScript的一小步</a><a class="left-navigation-link" style="border-color:#D4FCB5" href="/zh/part9/type_script版的express应用">c TypeScript版的express应用</a><div class="accordion__container col-8 push-right-1 accordion--side-navigation"><button class="accordion accordion__title  " style="background-color:#D4FCB5;border-color:#D4FCB5" aria-controls="d_利用_type_script编写_react应用" aria-expanded="false">d 利用TypeScript编写React应用</button></div></div></div></div><div class="course-content-container "><div class="course-content element--auto-bottom-margin"><div class="course-content-inner "><p class="col-1 letter" style="border-color:#D4FCB5">d</p><h1 class="sub-header ">利用TypeScript编写React应用</h1></div></div><div class="course-content "><div class="course-content-inner ">
<!-- -->
<p> 在我们开始深入研究如何在React中使用TypeScript之前，我们首先应该看一下我们想要实现什么。当一切工作正常时，TypeScript将帮助我们捕捉以下错误。</p>
<!-- -->
<ul>
<li>
<p>试图向组件传递一个额外/不需要的prop</p>
<!-- -->
</li>
<li>
<p>忘记向组件传递一个必要的prop</p>
<!-- -->
</li>
<li>传递错误类型的prop给一个组件</li>
</ul>
<!-- -->
<p> 如果我们犯了这些错误，TypeScript可以帮助我们立即在编辑器中发现它们。</p>
<!-- -->
<p> 如果我们不使用TypeScript，我们将不得不在以后的测试中抓住这些错误。</p>
<!-- -->
<p>我们可能会被迫做一些繁琐的调试来找到错误的原因。</p>
<!-- -->
<p>现在的推理已经足够了。让我们开始动手吧!</p>
<h3>Create React App with TypeScript</h3>
<!-- -->
<p> 我们可以使用<a href="https://create-react-app.dev">create-react-app</a>来创建一个TypeScript应用，在其中添加一个
<i>template</i> argument to the initialisation script. So in order to create a TypeScript Create React App, run the following command:</p>
<div class="gatsby-highlight" data-language="shell"><pre><code class="language-shell">npx create-react-app my-app <span class="token parameter variable">--template</span> typescript</code></pre></div>
<!-- -->
<p> 运行该命令后，你应该有一个完整的使用TypeScript的基本react应用。</p>
<!-- -->
<p>你可以通过在应用的根目录下运行<i>npm start</i>来启动该应用。</p>
<!-- -->
<p> 如果你看一下文件和文件夹，你会注意到这个应用与使用纯JavaScript的应用没有什么不同</p>
<!-- -->
<p>一个使用纯JavaScript的应用。唯一的区别是<i>.js</i>和<i>.jsx</i>文件现在是<i>.ts</i>和<i>.tsx</i>文件，它们包含一些类型注释，并且根目录包含一个<i>tsconfig.json</i>文件。</p>
<!-- -->
<p> 现在，让我们看一下已经为我们创建的<i>tsconfig.json</i>文件。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom.iterable&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;esnext&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;resolveJsonModule&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;isolatedModules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-jsx&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;src&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 选项现在已经键入了<a href="https://www.typescriptlang.org/tsconfig#lib">lib</a>，其中包括例如浏览器API&#x27;s类型的项目。</p>
<!-- -->
<p> 除了目前配置允许编译JavaScript文件外，其他一切都应该差不多了，因为<i>allowJs</i>被设置为<i>true</i>。</p>
<!-- -->
<p> 如果你需要混合使用TypeScript和JavaScript（例如，如果你正在将一个JavaScript项目转化为TypeScript或类似的东西），那会很好，但我们想创建一个纯粹的TypeScript应用，所以让我们把这个配置改为<i>false</i>。</p>
<!-- -->
<p> 在我们之前的项目中，我们使用eslint来帮助我们执行编码风格，我们在这个应用中也会这样做。我们不需要安装任何依赖项，因为create-react-app已经处理好了。</p>
<!-- -->
<p> 我们在<i>.eslintrc</i>中配置eslint，设置如下。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;es6&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;jest&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:react/recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;pragma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;React&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;detect&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;@typescript-eslint/explicit-function-return-type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;@typescript-eslint/explicit-module-boundary-types&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;react/react-in-jsx-scope&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 由于基本上所有React组件的返回类型都是<i>JSX.Element</i>或<i>null</i>，我们通过禁用<a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/explicit-function-return-type.md">explicit-function-return-type</a>和<a href="https://github.com/typescript-eslint/typescript-eslint/blob/master/packages/eslint-plugin/docs/rules/explicit-module-boundary-types.md">explicit-module-boundary-types</a>的规则，将默认的linting规则放宽一点。</p>
<!-- -->
<p> 现在我们不需要到处明确说明我们的函数返回类型。我们也将禁用<a href="https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/react-in-jsx-scope.md">react/react-in-jsx-scope</a>，因为不再需要在每个文件中导入React了。</p>
<!-- -->
<p> 接下来，我们需要让我们的linting脚本解析<i>*.tsx</i>文件，这是相当于react&#x27;s JSX文件的TypeScript。</p>
<!-- -->
<p> 我们可以通过改变<i>.package.json</i>中的lint命令来做到这一点。</p>
<div class="gatsby-highlight" data-language="json"><pre><code class="language-json"><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
    <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts start&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts build&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts test&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span><span class="token punctuation">,</span>
<span class="gatsby-highlight-code-line">    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint &#x27;./src/**/*.{ts,tsx}&#x27;&quot;</span></span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 如果你使用的是Windows，你可能需要为linting路径使用双引号。<code class="language-text">&quot;lint&quot;:&quot;eslint \&quot;./src/**/*.{ts,tsx}\&quot;&quot;</code>.</p>
<h3>React components with TypeScript</h3>
<!-- -->
<p> 让我们考虑下面这个JavaScript React的例子。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#x27;react-dom&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">&quot;prop-types&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Welcome</span> <span class="token operator">=</span> <span class="token parameter">props</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Welcome<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> PropTypes<span class="token punctuation">.</span>string
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Welcome</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Sara<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 在这个例子中，我们有一个叫做<i>Welcome</i>的组件，我们把一个<i>name</i>作为prop传给它。然后它将这个名字渲染到屏幕上。  我们知道<i>name</i>应该是一个字符串，我们使用<a href="/en/part5/props_children_and_proptypes#prop-types">part 5</a>中介绍的<a href="https://www.npmjs.com/package/prop-types">prop-types</a>包来接收关于组件的prop的理想类型的提示和关于无效prop类型的警告。</p>
<!-- -->
<p> 使用TypeScript，我们不再需要<i>prop-types</i>包。我们可以在TypeScript的帮助下定义类型，就像我们为普通函数定义类型一样，因为反应组件不过是单纯的函数。我们将使用一个接口作为参数类型（即props），并将<i>JSX.Element</i>作为任何反应组件的返回类型。</p>
<!-- -->
<p> 比如说。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">MyComp1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// TypeScript automatically infers the return type of this function</span>
  <span class="token comment">// (i.e., a react component) as `JSX.Element`.</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">TypeScript has auto inference!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> MyComp2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span><span class="token parameter">Element</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// We are explicitly defining the return type of a function here</span>
  <span class="token comment">// (i.e., a react component).</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">TypeScript React is easy.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">MyProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  price<span class="token operator">?</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> MyComp3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> label<span class="token punctuation">,</span> price <span class="token punctuation">}</span><span class="token operator">:</span> MyProps<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span><span class="token parameter">Element</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// We are explicitly defining the parameter types using interface `MyProps`</span>
  <span class="token comment">// and return types as `JSX.Element` in this function (i.e., a react component).</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">TypeScript is great.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">MyComp4</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> label<span class="token punctuation">,</span> price <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">label</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">price</span><span class="token operator">:</span> number <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// We are explicitly defining the parameter types using an inline interface</span>
  <span class="token comment">// and TypeScript automatically infers the return type as JSX.Element of the function (i.e., a react component).</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">There is nothing like TypeScript.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 现在，让我们回到我们的代码例子，看看我们将如何在TypeScript中定义<i>Welcome</i>组件的类型。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">interface</span> <span class="token class-name">WelcomeProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Welcome</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> WelcomeProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, </span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Welcome</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Sara<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 我们定义了一个新的类型，<em>WelcomeProps</em>，并将其传递给函数的参数类型。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Welcome</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> WelcomeProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></code></pre></div>
<!-- -->
<p> 你可以用不那么冗长的语法来写同样的东西。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">Welcome</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Hello, </span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 现在我们的编辑器知道<i>name</i>prop是一个字符串。</p>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5;border-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Exercise 9.14.</h3>
<h4>9.14.</h4>
<!-- -->
<p> 用TypeScript创建一个新的Create React App，并为该项目设置eslint，类似于我们刚才的做法。</p>
<!-- -->
<p> 这个练习与你在课程的<a href="/en/part1/java_script#exercises-1-3-1-5">第一章节</a>中已经完成的练习类似，但使用TypeScript和一些额外的调整。首先，将<i>index.tsx</i>的内容修改为以下内容。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App&quot;</span><span class="token punctuation">;</span>


ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">App</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p>和<i>App.tsx</i>的内容为。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> courseName <span class="token operator">=</span> <span class="token string">&quot;Half Stack application development&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> courseParts <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Fundamentals&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Using props to pass data&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">7</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Deeper type usage&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">14</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>courseName<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text"> </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>exerciseCount<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text"> </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>exerciseCount<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text"> </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>exerciseCount<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Number of exercises</span><span class="token punctuation">{</span><span class="token string">&quot; &quot;</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token punctuation">{</span>courseParts<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">carry<span class="token punctuation">,</span> part</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> carry <span class="token operator">+</span> part<span class="token punctuation">.</span>exerciseCount<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 并删除不必要的文件。</p>
<!-- -->
<p> 整个应用现在是在一个组件中。这不是我们想要的，所以重构代码，使其由三个组件组成。<i>标题</i>、<i>内容</i>和<i>总计</i>。所有的数据仍然保存在<i>App</i>组件中，它将所有必要的数据作为props传递给每个组件。<i>请确保为每个组件的props添加类型声明！</i></p>
<!-- -->
<p> <i>Header</i>组件应该负责渲染课程的名称。<i>Content</i>应该渲染不同部分的名称和每个部分的练习量，而<i>Total</i>应该渲染所有部分练习的总和。</p>
<!-- -->
<p> <i>App</i>组件应该看起来有点像这样。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// const-declarations</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>courseName<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Total</span></span> <span class="token attr-name">...</span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
</div></div></div>
<div class="course-content "><div class="course-content-inner ">
<h3>Deeper type usage</h3>
<!-- -->
<p> 在前面的练习中，我们有一个课程的三个部分，所有部分都有相同的属性<i>name</i>和<i>exerciseCount</i>。但是，如果我们需要为这些部分提供额外的属性，并且每个部分都需要不同的属性呢？从代码上看，这将是怎样的？让我们考虑下面的例子。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> courseParts <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Fundamentals&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;This is an awesome course part&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Using props to pass data&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token literal-property property">groupProjectCount</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Deeper type usage&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Confusing description&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseSubmissionLink</span><span class="token operator">:</span> <span class="token string">&quot;https://fake-exercise-submit.made-up-url.dev&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 在上面的例子中，我们为每个课程部分添加了一些额外的属性。</p>
<!-- -->
<p> 每个部分都有<i>name</i>和<i>exerciseCount</i>属性。</p>
<!-- -->
<p>但第一个和第三个也有一个叫做<i>描述</i>的属性，并且</p>
<!-- -->
<p>第二和第三章节也有一些明显的附加属性。</p>
<!-- -->
<p> 让我们想象一下，我们的应用一直在增长，而且我们需要在代码中传递不同的课程部分。</p>
<!-- -->
<p>在此基础上，还有额外的属性和课程部分被添加到组合中。</p>
<!-- -->
<p> 我们怎么能知道我们的代码能够正确处理所有不同类型的数据，而且我们不会忘记在某些页面上渲染一个新的课程部分呢？这就是TypeScript真正派上用场的地方!</p>
<!-- -->
<p> 让我们开始为我们不同的课程部分定义类型。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">CoursePartOne</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Fundamentals&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CoursePartTwo</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Using props to pass data&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">groupProjectCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CoursePartThree</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Deeper type usage&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseSubmissionLink</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 接下来我们将创建一个所有这些类型的<a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types">union</a>。</p>
<!-- -->
<p> 然后我们可以用它来为我们的数组定义一个类型，它应该接受这些课程部分的任何类型。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type CoursePart <span class="token operator">=</span> CoursePartOne <span class="token operator">|</span> CoursePartTwo <span class="token operator">|</span> CoursePartThree<span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 现在我们可以为我们的<i>courseParts</i>变量设置类型。</p>
<!-- -->
<p>如果我们为一个属性使用了错误的类型，使用了一个额外的属性，或者忘记设置一个预期的属性，我们的编辑器会自动警告我们。</p>
<!-- -->
<p>你可以通过注释任何课程部分的任何属性来测试这一点。</p>
<!-- -->
<p> 多亏了<i>name</i> <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types">string literal</a>，TypeScript可以识别哪个课程部分需要哪些额外的属性，即使该变量被定义为使用union类型。</p>
<!-- -->
<p> 但我们还不满足！我们还需要继续努力。我们的类型中仍然有很多重复，我们想避免这种情况。</p>
<!-- -->
<p> 我们首先要确定所有课程部分的共同属性，并定义一个包含这些属性的基本类型。</p>
<!-- -->
<p> 然后我们将<a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#extending-types">扩展</a>该基础类型来创建我们的特定部分类型。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CoursePartOne</span> <span class="token keyword">extends</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Fundamentals&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CoursePartTwo</span> <span class="token keyword">extends</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Using props to pass data&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">groupProjectCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CoursePartThree</span> <span class="token keyword">extends</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Deeper type usage&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseSubmissionLink</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 我们现在应该如何在我们的组件中使用这些类型？</p>
<!-- -->
<p> 在TypeScript中使用这种类型的一个方便的方法是使用<em>switch case</em>表达式。一旦你明确声明或TypeScript推断出一个变量是联盟类型，并且类型联盟中的每个类型都包含某个属性。</p>
<!-- -->
<p> 我们可以使用它作为一个类型标识符。</p>
<!-- -->
<p> 然后我们可以围绕该属性建立一个switch case，TypeScript会知道每个case块中有哪些属性。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/014a9c399567cd50b581b77d691ce1e4/5a190/32.png"/></picture>
<!-- -->
<p> 在上面的例子中，TypeScript知道一个<i>part</i>的类型是<i>CoursePart</i>。然后它可以推断出<i>part</i>是<i>CoursePartOne</i>、<i>CoursePartTwo</i>或<i>CoursePartThree</i>类型。</p>
<!-- -->
<p> 每个类型的<i>名称</i>都是不同的，所以我们可以用它来识别每个类型，TypeScript可以让我们知道每个案例块中哪些属性是可用的。</p>
<!-- -->
<p> 如果你试图在<i>&quot;使用prop传递数据&quot;</i>块中使用<i>part.description</i>，TypeScript会产生一个错误。</p>
<!-- -->
<p>添加新类型怎么办？如果我们要添加一个新的课程部分，知道我们的代码中是否已经实现了对该类型的处理不是很好吗？</p>
<!-- -->
<p> 在上面的例子中，一个新的类型会进入<i>default</i>块，而对于一个新的类型，什么也不会被打印出来。</p>
<!-- -->
<p> 当然，有时候，这是完全可以接受的，例如，如果你只想处理一个类型联盟的特定（但不是全部）情况，但在大多数情况下，建议单独处理所有的变化。</p>
<!-- -->
<p> 通过TypeScript，我们可以使用一种叫做<i>详尽的类型检查</i>的方法。它的基本原理是，如果我们遇到一个意外的值，我们就调用一个接受类型为<a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html#the-never-type">never</a>并且返回类型为<i>never</i>的函数。</p>
<!-- -->
<p> 这个函数的直接版本可以是这样的。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">/**
 * Helper function for exhaustive type checking
 */</span>
<span class="token keyword">const</span> assertNever <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> never<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">never</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>
    <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Unhandled discriminated union member: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 如果我们现在把我们的<i>default</i>块的内容替换成。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">default</span><span class="token operator">:</span>
  <span class="token keyword">return</span> <span class="token function">assertNever</span><span class="token punctuation">(</span>part<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p>同时注释掉<i>Deeper类型用法</i>案例块，我们会看到以下错误。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/d94b51bc904103fcd81e341f385907a8/5a190/33.png"/></picture>
<!-- -->
<p> 错误信息说，<i>&quot;CoursePartThree&#x27;&#x27;类型的参数不能分配给&#x27;&#x27;never&quot;类型的参数</i>，这告诉我们，我们在某个地方使用了一个不应该被使用的变量。这告诉我们有些东西需要被修正。</p>
<!-- -->
<p>当我们从<i>更深类型的使用</i>案例块中删除注释时，你会看到这个错误消失了。</p>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5;border-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Exercise 9.15.</h3>
<h4>9.15.</h4>
<!-- -->
<p> 现在让我们继续扩展练习9.14中创建的应用。首先，添加类型信息，用下面例子中的变量<i>courseParts</i>代替。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">// new types</span>
<span class="token keyword">interface</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CourseNormalPart</span> <span class="token keyword">extends</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">CourseProjectPart</span> <span class="token keyword">extends</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;groupProject&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">groupProjectCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">CourseSubmissionPart</span> <span class="token keyword">extends</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;submission&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseSubmissionLink</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

type CoursePart <span class="token operator">=</span> CourseNormalPart <span class="token operator">|</span> CourseProjectPart <span class="token operator">|</span> CourseSubmissionPart<span class="token punctuation">;</span>


<span class="token comment">// this is the new coursePart variable</span>
<span class="token keyword">const</span> <span class="token literal-property property">courseParts</span><span class="token operator">:</span> CoursePart<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Fundamentals&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;This is the leisured course part&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Advanced&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;This is the harded course part&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Using props to pass data&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token literal-property property">groupProjectCount</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;groupProject&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Deeper type usage&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">14</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Confusing description&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exerciseSubmissionLink</span><span class="token operator">:</span> <span class="token string">&quot;https://fake-exercise-submit.made-up-url.dev&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;submission&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span></code></pre></div>
<!-- -->
<p> 现在我们知道，两个接口<i>CourseNormalPart</i>和<i>CourseSubmissionPart</i>不仅共享基本属性，而且还有一个叫做<i>description</i>的属性，在两个接口中都是一个字符串。</p>
<!-- -->
<p> 你的第一个任务是声明一个新的接口，包括<i>description</i>属性并扩展<i>CoursePartBase</i>接口。然后修改代码，使你能从<i>CourseNormalPart</i>和<i>CourseSubmissionPart</i>中删除<i>description</i>属性而不产生任何错误。</p>
<!-- -->
<p> 然后创建一个组件<i>Part</i>，渲染每种类型的课程部分的所有属性。使用基于开关案例的穷举式检查!在组件<i>Content</i>中使用新组件。</p>
<!-- -->
<p> 最后，添加另一个具有以下属性的课程部分界面。<i>name</i>, <i>exerciseCount</i>, <i>description</i>和<i>requirements</i>，后者是一个字符串数组。这种类型的对象如下所示：下面这样。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;Backend development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&quot;Typing the backend&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">requirements</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jest&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;special&quot;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 然后将该接口添加到类型联盟<i>CoursePart</i>中，并在<i>courseParts</i>变量中添加相应的数据。现在，如果你没有正确地修改你的<i>Content</i>组件，你应该得到一个错误，因为你还没有为第四个课程部分类型添加支持。对<i>Content</i>进行必要的修改，使新的课程部分的所有属性也得到渲染，并且编译器不会产生任何错误。</p>
<!-- -->
<p> 最终的结果可能是这样的。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/b250cbeee382069b5352275d6591d469/5a190/45.png"/></picture>
</div></div></div>
<div class="course-content "><div class="course-content-inner ">
<h3>A note about defining object types</h3>
<!-- -->
<p> 我们在上一节中使用了<a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#interfaces">接口</a>来定义对象类型，例如日记条目。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">DiaryEntry</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">weather</span><span class="token operator">:</span> Weather<span class="token punctuation">;</span>
  <span class="token literal-property property">visibility</span><span class="token operator">:</span> Visibility<span class="token punctuation">;</span>
  comment<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p>以及在本节的课程部分</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">CoursePartBase</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">exerciseCount</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 我们实际上可以通过使用<a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#type-aliases">类型别名</a>达到同样的效果。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type DiaryEntry <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">weather</span><span class="token operator">:</span> Weather<span class="token punctuation">;</span>
  <span class="token literal-property property">visibility</span><span class="token operator">:</span> Visibility<span class="token punctuation">;</span>
  comment<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 在大多数情况下，你可以使用<i>type</i>或<i>interface</i>，无论你喜欢哪种语法。然而，有几件事需要注意。</p>
<!-- -->
<p> 例如，如果你定义了多个同名的接口，它们将产生一个合并的接口，而如果你试图定义多个同名的类型，将导致一个错误，说明同名的类型已经被声明。</p>
<!-- -->
<p> TypeScript文档<a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#differences-between-type-aliases-and-interfaces">建议在大多数情况下使用接口</a>。</p>
<h3>Working with an existing codebase</h3>
<!-- -->
<p>当第一次潜入一个现有的代码库时，最好能对项目的惯例和结构有一个整体的认识。你可以通过阅读版本库根目录下的<i>README.md</i>开始你的研究。通常，README包含对应用的简要描述和使用要求，以及如何启动它进行开发。</p>
<!-- -->
<p> 如果README不可用，或者有人 &quot;节省时间&quot;，把它作为一个存根，你可以偷看一下<i>package.json</i>。</p>
<!-- -->
<p>启动应用并点击一下以验证你有一个功能性的开发环境总是一个好主意。</p>
<!-- -->
<p>你也可以浏览文件夹结构，以了解该应用的功能和/或使用的架构。这些并不总是清晰的，开发者可能选择了一种你不熟悉的方式来组织代码。本章节其余部分使用的<a href="https://github.com/fullstack-hy2020/patientor">示例项目</a>是按功能组织的。你可以看到应用有哪些页面，以及一些一般的组件，例如模态和状态。请记住，这些功能可能有</p>
<!-- -->
<p>不同的范围。例如，模态是可见的UI级组件，而状态则与业务逻辑相当，并将数据组织在引擎盖下供应用的其他部分使用。</p>
<!-- -->
<p> TypeScript为你提供了类型，告诉你可以期待什么样的数据结构、函数、组件和状态。  你可以尝试寻找<i>types.ts</i>或类似的东西来让你开始。VSCode是一个很大的帮助，仅仅突出变量和参数就可以给你相当多的启示。所有这些自然取决于项目中是如何使用类型的。</p>
<!-- -->
<p> 如果项目有单元、集成或端到端的测试，阅读这些测试很可能是有益的。当重构或创建应用的新功能时，测试案例是你最重要的工具。你要确保在敲打代码时不破坏任何现有功能。在改变代码时，TypeScript也可以在参数和返回类型方面给你指导。</p>
<!-- -->
<p> 请记住，阅读代码本身就是一种技能，如果你在第一次阅读时不理解代码，也不要担心。  代码可能有很多角落的情况，而且在整个开发周期中，可能有一些逻辑片段被添加到这里或那里。很难想象以前的开发者会遇到什么样的麻烦。把这一切想象成<a href="https://en.wikipedia.org/wiki/Dendrochronology#Growth_rings">树木的生长环</a>。了解这一切需要深入挖掘代码和业务领域的需求。你读的代码越多，你就越能做到这一点。你会读到比你要生产的更多的代码。</p>
<h3>Patientor frontend</h3>
<!-- -->
<p> 是时候动手为我们在<a href="/en/part9/typing_the_express_app">练习9.8.-9.13</a>中建立的后端完成前端了。</p>
<!-- -->
<p> 在深入研究代码之前，让我们同时启动前端和后端。</p>
<!-- -->
<p> 如果一切顺利，你应该看到一个病人列表页面。它从我们的后端获取一个病人列表，并以一个简单的表格形式渲染在屏幕上。还有一个按钮用于在后端创建新的病人。由于我们使用的是模拟数据而不是数据库，所以数据不会持续存在--关闭后端将删除我们添加的所有数据。UI设计显然不是创建者的强项，所以我们现在先不考虑UI。</p>
<!-- -->
<p> 在验证了一切正常后，我们可以开始研究代码。所有有趣的东西都在<i>src</i>文件夹中。为了你的方便，已经有一个<i>types.ts</i>文件用于应用中使用的基本类型，你将不得不在练习中扩展或重构它。</p>
<!-- -->
<p> 原则上，我们可以在后端和前端使用相同的类型，但通常前端有不同的数据结构和数据用例，这导致类型不同。</p>
<!-- -->
<p> 例如，前端有一个状态，可能想把数据保存在对象或地图中，而后端使用数组。前端也可能不需要保存在后端的数据对象的所有字段，它可能需要添加一些新的字段来用于渲染。</p>
<!-- -->
<p> 文件夹结构看起来如下。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/4cf9fc56719dbd15de3f796bc0cc3945/5a190/34a.png"/></picture>
<!-- -->
<p> 如你所料，目前有两个主要组件。<i>AddPatientModal</i>和<i>PatientListPage</i>。<i>state</i>文件夹包含前端的状态处理。</p>
<!-- -->
<p> <i>state</i>文件夹中的代码的主要功能是将我们的数据保存在一个地方，并提供简单的操作来改变我们应用的状态。</p>
<h3>State handling</h3>
<!-- -->
<p> 让我们更仔细地研究一下状态处理，因为很多东西似乎是在引擎盖下发生的，它与迄今为止课程中使用的方法有一些不同。</p>
<!-- -->
<p> 状态管理是使用React Hooks <a href="https://reactjs.org/docs/hooks-reference.html#usecontext">useContext</a> 和 <a href="https://reactjs.org/docs/hooks-reference.html#usereducer">useReducer</a>建立的。这是一个很好的设置，因为我们知道这个应用将是相当小的，我们不想使用<i>redux</i>或其他类似的库来进行状态管理。</p>
<!-- -->
<p> 有很多好的材料，例如<a href="https://medium.com/@seantheurgel/react-hooks-as-state-management-usecontext-useeffect-usereducer-a75472a862fe">这篇文章</a>，关于这种状态管理的方法。</p>
<!-- -->
<p> 在这个应用中采取的方法使用了React <a href="https://reactjs.org/docs/context.html">context</a>，根据其文档。</p>
<!-- -->
<blockquote>
<p><i>......被设计用来共享那些可以被认为是React组件树的 &quot;全局 &quot;数据，例如当前的认证用户、主题或首选语言。</i></p>
</blockquote>
<!-- -->
<p> 在我们的例子中，&quot;全局&quot;、共享的数据是应用状态<i>和</i>调度函数，用于对数据进行更改。在许多方面，我们的代码很像我们在<a href="/en/part6">第6章节</a>中使用的基于Redux的状态管理，但由于它不需要使用任何外部库，所以更加轻量级。这一部分假设你至少熟悉Redux的工作方式，例如，你至少应该涵盖第六章节的<a href="/en/part6/flux_architecture_and_redux">第一节</a>。</p>
<!-- -->
<p> 我们应用的<a href="https://reactjs.org/docs/context.html">上下文</a>有一个元组，包含应用的状态和改变状态的调度器。</p>
<!-- -->
<p> 应用状态的类型如下。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type State <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">patients</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>id<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> Patient <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 状态是一个有一个键的对象，<i>patients</i>，它有一个<a href="https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html">字典</a>，或者简单说是一个有字符串键的对象，有一个<i>Patient</i>对象作为值。索引只能是一个<i>字符串</i>或一个<i>数字</i>，因为你可以用这些来访问对象的值。这就强制要求状态符合我们想要的形式，并防止开发者误用状态。</p>
<!-- -->
<p> 但是要注意一件事!当一个类型被声明为<i>patients</i>的类型时，TypeScript实际上没有办法知道你试图访问的键是否真的存在。因此，如果我们试图通过一个不存在的id来访问一个病人，编译器会认为返回的值是<i>Patient</i>类型，并且在试图访问其属性时不会抛出错误。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> myPatient <span class="token operator">=</span> state<span class="token punctuation">.</span>patients<span class="token punctuation">[</span><span class="token string">&#x27;non-existing-id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myPatient<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// no error, TypeScript believes that myPatient is of type Patient</span></code></pre></div>
<!-- -->
<p> 为了解决这个问题，我们可以将病人值的类型定义为<i>Patient</i>和<i>undefined</i>的联合，方法如下。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type State <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">patients</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>id<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> Patient <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 这将导致编译器给出以下警告。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> myPatient <span class="token operator">=</span> state<span class="token punctuation">.</span>patients<span class="token punctuation">[</span><span class="token string">&#x27;non-existing-id&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myPatient<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error, Object is possibly &#x27;undefined&#x27;</span></code></pre></div>
<!-- -->
<p> 如果你使用来自外部的数据或使用用户输入的值来访问代码中的数据，这种额外的类型安全总是很好实现的。但如果你确信你只处理实际存在的数据，那么没有人阻止你使用第一个提出的解决方案。</p>
<!-- -->
<p> 尽管我们在这个课程部分没有使用它们，但值得一提的是，一个更严格的类型方式是使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>对象，你可以为它的键和内容都声明一个类型。Map&#x27;s accessor函数<i>get()</i>总是返回声明的值类型和未定义的联合体，所以TypeScript自动要求你对从Map检索的数据执行有效性检查。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">patients</span><span class="token operator">:</span> Map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> Patient<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token keyword">const</span> myPatient <span class="token operator">=</span> state<span class="token punctuation">.</span>patients<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#x27;non-existing-id&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// type for myPatient is now Patient | undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myPatient<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// error, Object is possibly &#x27;undefined&#x27;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myPatient<span class="token operator">?.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// valid code, but will log &#x27;undefined&#x27;</span></code></pre></div>
<!-- -->
<p> 就像redux一样，所有的状态操作都是由一个reducer完成的。它在文件<i>reducer.ts</i>中与<i>Action</i>类型一起定义，看起来如下。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type Action <span class="token operator">=</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;SET_PATIENT_LIST&quot;</span><span class="token punctuation">;</span>
      <span class="token literal-property property">payload</span><span class="token operator">:</span> Patient<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token operator">|</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;ADD_PATIENT&quot;</span><span class="token punctuation">;</span>
      <span class="token literal-property property">payload</span><span class="token operator">:</span> Patient<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 减速器看起来和我们在开始使用Redux工具包之前在<a href="/en/part6">第6章节</a>写的那些很相似。它为每种类型的动作改变状态。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> reducer <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token operator">:</span> State<span class="token punctuation">,</span> <span class="token literal-property property">action</span><span class="token operator">:</span> Action<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">State</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;SET_PATIENT_LIST&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">patients</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
            <span class="token punctuation">(</span><span class="token parameter">memo<span class="token punctuation">,</span> patient</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span>memo<span class="token punctuation">,</span> <span class="token punctuation">[</span>patient<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token operator">:</span> patient <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span><span class="token punctuation">}</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token operator">...</span>state<span class="token punctuation">.</span>patients
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;ADD_PATIENT&quot;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token literal-property property">patients</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token operator">...</span>state<span class="token punctuation">.</span>patients<span class="token punctuation">,</span>
          <span class="token punctuation">[</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token operator">:</span> action<span class="token punctuation">.</span>payload
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 主要区别在于，现在的状态是一个字典（或一个对象），而不是我们在<a href="/en/part6">第六章节</a>中使用的数组。</p>
<!-- -->
<p> 在文件<i>state.ts</i>中发生了很多事情，它负责设置上下文。</p>
<!-- -->
<p>主要内容是<a href="https://reactjs.org/docs/hooks-reference.html#usereducer">useReducer</a>钩子</p>
<!-- -->
<p>用来创建状态和调度函数，并把它们传递给<a href="https://reactjs.org/docs/context.html#contextprovider">上下文提供者</a>。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">StateProvider</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>
  reducer<span class="token punctuation">,</span>
  children
<span class="token punctuation">}</span><span class="token operator">:</span> StateProviderProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialState<span class="token punctuation">)</span><span class="token punctuation">;</span></span>  <span class="token keyword">return</span> <span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">    <span class="token operator">&lt;</span>StateContext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span>      <span class="token punctuation">{</span>children<span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>StateContext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 由于<i>index.ts</i>中的设置，提供者使<i>state</i>和<i>dispatch</i>函数在所有组件中可用。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> reducer<span class="token punctuation">,</span> StateProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./state&quot;</span><span class="token punctuation">;</span>

ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>StateProvider reducer<span class="token operator">=</span><span class="token punctuation">{</span>reducer<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>StateProvider<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#x27;root&#x27;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 它还定义了<i>useStateValue</i>钩。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useStateValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">useContext</span><span class="token punctuation">(</span>StateContext<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 需要访问状态或调度器的组件使用它来获得这些。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> useStateValue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../state&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token keyword">const</span> <span class="token function-variable function">PatientListPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> patients <span class="token punctuation">}</span><span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useStateValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 如果这看起来很混乱，请不要担心；在你研究了<a href="https://reactjs.org/docs/context.html">context&#x27;s documentation</a>和它在<a href="https://medium.com/@seantheurgel/react-hooks-as-state%20management-usecontext-useeffect-usereducer-a75472a862fe">state management</a>中的使用之前，都是如此。你不需要完全理解这一切来做练习!</p>
<!-- -->
<p> 实际上，当你开始在一个现有的代码库上工作时，一开始你并不完全理解引擎盖下发生的事情，这是非常普遍的。如果应用的结构正确（并且有一套适当的测试），你可以相信，如果你仔细修改，尽管你不了解所有的内部机制，应用仍然可以工作。随着时间的推移，你会掌握更多不熟悉的部分，但在处理大型代码库时，这不会在一夜之间发生。</p>
<h3>Patient listing page</h3>
<!-- -->
<p> 我们来看看<i>PatientListPage/index.ts</i>，因为你可以从那里得到启发，帮助你从后端获取数据并更新应用的状态。
<i>PatientListPage</i> uses our custom hook to inject the state, and the dispatcher for updating it.</p>
<!-- -->
<p>当我们列出病人时，我们只需要从状态中解除<i>patients</i>属性的结构。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> useStateValue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../state&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">PatientListPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> patients <span class="token punctuation">}</span><span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useStateValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 我们也使用用<i>useState</i>钩子创建的应用状态来管理模式的可见性和表单错误处理。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">[</span>modalOpen<span class="token punctuation">,</span> setModalOpen<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span>useState<span class="token operator">&lt;</span>boolean<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>error<span class="token punctuation">,</span> setError<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span>useState<span class="token operator">&lt;</span>string <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 我们给<i>useState</i>钩子一个类型参数，然后将其应用于实际状态。所以<i>modalOpen</i>是一个<i>boolean</i>，<i>error</i>的类型是<i>string | undefined</i>。</p>
<!-- -->
<p>由<i>useState</i>钩子返回的两个设置函数都是根据给定的类型参数只接受参数的函数，例如，<i>setModalOpen</i>函数的确切类型是<i>React.Dispatch&lt;React.SetStateAction&lt;boolean&gt;</i>。</p>
<!-- -->
<p> 我们还有<i>openModal</i>和<i>closeModal</i>辅助函数，以提高可读性和便利性。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> openModal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> closeModal <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setModalOpen</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setError</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 前端的类型是基于你在前一部分开发后端时创建的。</p>
<!-- -->
<p> 当组件<i>App</i>挂载时，它使用<a href="https://github.com/axios/axios">Axios</a>从后端获取病人。注意我们是如何给<i>axios.get</i>函数一个类型参数来描述响应数据的类型。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  axios<span class="token punctuation">.</span>get<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>apiBaseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/ping</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">fetchPatientList</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> patients <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span>get<span class="token operator">&lt;</span>Patient<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>
        <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>apiBaseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/patients</span><span class="token template-punctuation string">`</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;SET_PATIENT_LIST&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> patients <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> unknown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> errorMessage <span class="token operator">=</span> <span class="token string">&#x27;Something went wrong.&#x27;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">isAxiosError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        errorMessage <span class="token operator">+=</span> <span class="token string">&#x27; Error: &#x27;</span> <span class="token operator">+</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token function">fetchPatientList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> <strong>一个警告！</strong>向Axios传递一个类型参数不会验证任何数据。这是相当危险的，特别是当你使用外部API的时候。你可以创建自定义的验证函数，接收整个有效载荷并返回正确的类型，或者你可以使用类型保护。两者都是有效的选择。也有很多库通过不同的模式提供验证，例如<a href="https://gcanti.github.io/io-ts/">io-ts</a>。为了简单起见，我们将继续相信我们自己的工作，并相信我们将从后端获得正确形式的数据。</p>
<!-- -->
<p> 由于我们的应用相当小，我们将通过简单地调用<i>dispatch</i>函数来更新状态，该函数由<i>useStateValue</i>钩提供给我们。</p>
<!-- -->
<p>编译器通过确保我们根据我们的<i>Action</i>类型和预定义的类型字符串和有效载荷来调度行动。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;SET_PATIENT_LIST&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> patients <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5;border-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Exercises 9.16.-9.18.</h3>
<!-- -->
<p> 我们将很快为我们的应用添加一个新的类型，<i>Entry</i>，它代表一个轻量级的病人日记条目。它包括一个日志文本，即一个<i>描述</i>，一个创建日期，关于创建它的专家的信息和可能的诊断代码。诊断代码与从<i>/api/diagnoses</i>端点返回的ICD-10代码相匹配。我们的天真实现将是，一个病人有一个条目数组。</p>
<!-- -->
<p>在进入这个问题之前，让我们做一些准备工作。</p>
<h4>9.16: patientor, step1</h4>
<!-- -->
<p> 创建一个端点<i>/api/patients/:id</i>，返回一个病人的所有病人信息，包括对所有病人来说仍然是空的病人条目数组。暂时将后端类型扩展如下。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token comment">// eslint-disable-next-line @typescript-eslint/no-empty-interface</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Entry</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Patient</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">ssn</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">occupation</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">gender</span><span class="token operator">:</span> Gender<span class="token punctuation">;</span>
  <span class="token literal-property property">dateOfBirth</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line">  <span class="token literal-property property">entries</span><span class="token operator">:</span> Entry<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">}</span>

<span class="gatsby-highlight-code-line"><span class="token keyword">export</span> type PublicPatient <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Patient<span class="token punctuation">,</span> <span class="token string">&#x27;ssn&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;entries&#x27;</span> <span class="token operator">&gt;</span></span></code></pre></div>
<!-- -->
<p> 响应看起来应该如下。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/ad0b2c4fbc560a07305bb3de1d56578c/5a190/38a.png"/></picture>
<h4>9.17: patientor, step2</h4>
<!-- -->
<p> 创建一个页面，在前端显示病人的全部信息。</p>
<!-- -->
<p> 用户应该能够访问一个病人的信息，例如，通过点击病人的名字。</p>
<!-- -->
<p> 从前面练习中创建的端点获取数据。从后端获取病人信息后，将获取的信息添加到应用的状态中。如果信息已经在应用的状态中，即如果用户多次访问同一个病人的信息，则不要获取该信息。</p>
<!-- -->
<p> 由于我们现在有了上下文中的状态，你需要定义一个新的动作类型来更新单个病人的数据。</p>
<!-- -->
<p> 应用使用我们在<a href="/en/part7/more_about_styles">第7章节</a>中提到的<a href="https://material-ui.com/">MaterialUI</a>进行样式设计。你也可以把它用于新的组件，但这取决于你，因为我们现在的主要重点是TypeScript。</p>
<!-- -->
<p> 应用还使用<a href="https://reactrouter.com/en/main/start/tutorial">React Router</a>来控制哪个视图在前端可见。如果你还没有掌握路由器的工作原理，你可能想看一下<a href="/en/part7/react_router">第7章节</a>。</p>
<!-- -->
<p> 结果可能是这样的。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/bfd4dd1cd1135848beb8f102c55d816a/5a190/39x.png"/></picture>
<!-- -->
<p> 示例使用<a href="https://mui.com/components/material-icons/">Material UI Icons</a>来表示性别。</p>
<!-- -->
<p> <strong>注意</strong>，为了访问url中的id，你需要给<a href="https://reactrouter.com/en/main/hooks/use-params">useParams</a>一个合适的类型参数。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> useParams<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> string <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>9.18: patientor, step3</h4>
<!-- -->
<p> 目前，我们在分派动作的地方创建<i>action</i>对象，例如，<i>App</i>组件有以下内容。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;SET_PATIENT_LIST&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> patientListFromApi
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 在文件<i>src/state/reducer.ts</i>中定义<a href="/en/part6/flux_architecture_and_redux#action-creators">动作创建者函数</a>并重构代码以使用它们。</p>
<!-- -->
<p> 例如，<i>App</i>应该变成下面的样子。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> useStateValue<span class="token punctuation">,</span> setPatientList <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./state&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>

<span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">setPatientList</span><span class="token punctuation">(</span>patientListFromApi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</div></div></div>
<div class="course-content "><div class="course-content-inner ">
<h3>Full entries</h3>
<!-- -->
<p> 在<a href="/en/part9/typing_the_express_app#exercises-9-10-9-11">练习9.10.</a>中，我们实现了一个用于获取各种诊断信息的端点，但我们仍然完全没有使用这个端点。</p>
<!-- -->
<p> 既然我们现在有了一个查看病人信息的页面，那么把我们的数据扩展一下就好了。</p>
<!-- -->
<p> 让我们为我们的病人数据添加一个<i>Entry</i>字段，这样一个病人的数据就包含了他们的医疗条目，包括可能的诊断。</p>
<!-- -->
<p> 让我们从后端抛弃旧的病人种子数据，开始使用<a href="https://github.com/fullstack-hy/misc/blob/master/patients.ts">这个扩展格式</a>。</p>
<!-- -->
<p> <strong>注意：</strong>这次，数据不是以.json格式，而是以.ts格式。你应该已经实现了完整的<i>Gender</i>和<i>Patient</i>类型，所以如果需要的话，只需纠正它们被导入的路径。</p>
<!-- -->
<p> 现在让我们根据我们拥有的数据创建一个适当的<i>条目</i>类型。</p>
<!-- -->
<p> 如果我们仔细看一下这些数据，我们可以看到这些条目实际上是非常不同的。例如，让我们看一下前两个条目。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#x27;d811e46d-70b3-4d90-b090-4535c7cf8fb1&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">&#x27;2015-01-02&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;Hospital&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">specialist</span><span class="token operator">:</span> <span class="token string">&#x27;MD House&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">diagnosisCodes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;S62.5&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span>
    <span class="token string">&quot;Healing time appr. 2 weeks. patient doesn&#x27;t remember how he got the injury.&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">discharge</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">&#x27;2015-01-16&#x27;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">criteria</span><span class="token operator">:</span> <span class="token string">&#x27;Thumb has healed.&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#x27;fcd59fa6-c4b4-4fec-ac4d-df4fe1f85f62&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token string">&#x27;2019-08-05&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#x27;OccupationalHealthcare&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">specialist</span><span class="token operator">:</span> <span class="token string">&#x27;MD House&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">employerName</span><span class="token operator">:</span> <span class="token string">&#x27;HyPD&#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">diagnosisCodes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;Z57.1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;Z74.3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;M51.2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span>
    <span class="token string">&#x27;Patient mistakenly found himself in a nuclear plant waste site without protection gear. Very minor radiation poisoning. &#x27;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sickLeave</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">startDate</span><span class="token operator">:</span> <span class="token string">&#x27;2019-08-05&#x27;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">endDate</span><span class="token operator">:</span> <span class="token string">&#x27;2019-08-28&#x27;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 随即，我们可以看到，虽然前几个字段是相同的，但第一个条目有一个<i>discharge</i>字段，第二个条目有<i>employerName</i>和<i>sickLeave</i>字段。</p>
<!-- -->
<p>所有条目似乎都有一些共同的字段，但有些字段是条目特有的。</p>
<!-- -->
<p>当查看<i>类型</i>时，我们可以看到，实际上有三种条目。<i>职业保健</i>、<i>医院</i>和<i>健康检查</i>。</p>
<!-- -->
<p>这表明我们需要三种独立的类型。由于它们都有一些共同的字段，我们可能只想创建一个基本的条目接口，我们可以用每个类型中的不同字段来扩展。</p>
<!-- -->
<p> 在看数据时，似乎字段<i>id</i>、<i>description</i>、<i>date</i>和<i>specialist</i>都是可以在每个条目中找到的东西。除此之外，<i>diagnosisCodes</i>似乎只出现在一个<i>OccupationalHealthCare</i>和一个<i>Hospital</i>类型的条目中。由于即使在这些类型的条目中也并不总是使用它，因此可以认为该字段是可选的。我们可以考虑在<i>HealthCheck</i>类型中也添加它。</p>
<!-- -->
<p>因为它可能只是在这些特定的条目中没有被使用。</p>
<!-- -->
<p> 所以我们的<i>BaseEntry</i>可以从每个类型中扩展出来，如下。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">BaseEntry</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">specialist</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  diagnosisCodes<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 如果我们想进一步调整，因为我们已经在后端定义了一个<i>诊断</i>类型，我们可能只想直接引用<i>诊断</i>类型的代码字段，以防其类型发生变化。</p>
<!-- -->
<p> 我们可以这样做。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">BaseEntry</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">id</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">description</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">date</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">specialist</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  diagnosisCodes<span class="token operator">?</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Diagnosis<span class="token punctuation">[</span><span class="token string">&#x27;code&#x27;</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 正如你可能记得的，<i>Array&lt;Type&gt;</i>只是说<i>Type[]</i>的一种替代方式。在这样的情况下，使用数组约定更清楚，因为另一种选择是通过说<i>Diagnosis[&#x27;&#x27;code&#x27;][]</i>来定义类型，这看起来有点奇怪。</p>
<!-- -->
<p> 现在我们已经定义了<i>BaseEntry</i>，我们可以开始创建我们将实际使用的扩展条目类型。让我们从创建<i>HealthCheckEntry</i>类型开始。</p>
<!-- -->
<p>类型<i>HealthCheck</i>的条目包含字段<i>HealthCheckRating</i>，它是一个从0到3的整数，0表示<i>健康</i>，3表示<i>严重风险</i>。这是一个枚举定义的完美案例。</p>
<!-- -->
<p> 有了这些规范，我们可以这样写一个<i>HealthCheckEntry</i>类型定义。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">enum</span> HealthCheckRating <span class="token punctuation">{</span>
  <span class="token string">&quot;Healthy&quot;</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token string">&quot;LowRisk&quot;</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string">&quot;HighRisk&quot;</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token string">&quot;CriticalRisk&quot;</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">HealthCheckEntry</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEntry</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;HealthCheck&quot;</span><span class="token punctuation">;</span>
  <span class="token literal-property property">healthCheckRating</span><span class="token operator">:</span> HealthCheckRating<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 现在我们只需要创建<i>OccupationalHealthcareEntry</i>和<i>HospitalEntry</i>类型，这样我们就可以把它们结合在一个联盟中，并像这样把它们输出为Entry类型。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type Entry <span class="token operator">=</span>
  <span class="token operator">|</span> HospitalEntry
  <span class="token operator">|</span> OccupationalHealthcareEntry
  <span class="token operator">|</span> HealthCheckEntry<span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 关于联合的一个重要观点是，当你用它们和<em>Omit</em>来排除一个属性时，它的工作方式可能是意想不到的。假设我们想从每个<em>Entry</em>中删除<em>id</em>。我们可以考虑使用<em>Omit&lt;Entry, &#x27;&#x27;id&#x27;&gt;</em>，但是<a href="https://github.com/microsoft/TypeScript/issues/42680">它不会像我们期望的那样工作</a>。事实上，产生的类型将只包含共同的属性，而不包含它们不共享的属性。一个可能的变通方法是定义一个特殊的类似于Omit的函数来处理这种情况。</p>
<div class="gatsby-highlight" data-language="ts"><pre><code class="language-ts"><span class="token comment">// Define special omit for unions</span>
<span class="token keyword">type</span> <span class="token class-name">UnionOmit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">symbol</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">unknown</span></span> <span class="token operator">?</span> Omit<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token builtin">never</span><span class="token punctuation">;</span>
<span class="token comment">// Define Entry without the &#x27;id&#x27; property</span>
<span class="token keyword">type</span> <span class="token class-name">EntryWithoutId</span> <span class="token operator">=</span> UnionOmit<span class="token operator">&lt;</span>Entry<span class="token punctuation">,</span> <span class="token string">&#x27;id&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></pre></div>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5;border-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Exercises 9.19.-9.22.</h3>
<h4>9.19: patientor, step4</h4>
<!-- -->
<p> 定义类型<i>OccupationalHealthcareEntry</i>和<i>HospitalEntry</i>，使其符合示例数据。确保你的后端在进入单个病人的路线时正确返回条目。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/21b5816433d1a5aeaf15bdac4f528d77/5a190/40.png"/></picture>
<!-- -->
<p> 在后端正确使用类型!现在，没有必要对后端的所有条目字段进行适当的验证，只需检查字段<i>类型</i>是否有正确的值即可。</p>
<h4>9.20: patientor, step5</h4>
<!-- -->
<p> 在前端扩展一个病人的页面，列出病人条目的<i>日期</i>、<i>描述</i>和<i>诊断代码</i>。</p>
<!-- -->
<p> 你可以在前端的<i>条目</i>中使用相同的类型定义。对于这些练习，只需将定义从后端复制/粘贴到前端即可。</p>
<!-- -->
<p> 你的解决方案可以是这样的。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/bc5d529ae2163ff75b844c5c014ad074/5a190/41.png"/></picture>
<h4>9.21: patientor, step6</h4>
<!-- -->
<p> 从<i>/api/diagnoses</i>端点获取并添加诊断到应用状态。使用新的诊断数据来显示病人的诊断代码的描述。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/6d08345c7fd0b3141e9de139f3ec87b0/5a190/42.png"/></picture>
<h4>9.22: patientor, step7</h4>
<!-- -->
<p> 在病人的页面中扩展条目列表，包括条目的细节，用一个新的组件显示病人条目的其他信息，区分不同类型。</p>
<!-- -->
<p>你可以使用例如<a href="https://mui.com/components/material-icons/">图标</a>或其他一些<a href="https://mui.com/">材料用户界面</a>组件来为你的列表获得适当的视觉效果。</p>
<!-- -->
<p>你应该使用一个基于切换案例的渲染和<i>详尽的类型检查</i>，这样就不会有案例被遗忘。</p>
<!-- -->
<p> 像这样。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/97edaf23398bcd60caf2b0338f9f8135/5a190/35c.png"/></picture>
<!-- -->
<p> 列表中的结果条目<i>可以</i>看起来是这样的。</p>
<picture><img style="border-color:#D4FCB5" alt="fullstack content" src="/static/9d1114d097b158e0795d6bcddde01e86/5a190/36x.png"/></picture>
</div></div></div>
<div class="course-content "><div class="course-content-inner ">
<h3>Add patient form</h3>
<!-- -->
<p> 在React中，表单处理有时是一个相当烦人的问题。这就是为什么我们决定利用<a href="https://jaredpalmer.com/formik/docs/overview">Formik</a>包来处理我们应用的添加病人表单。下面是Formik文档中的一个小介绍。</p>
<!-- -->
<blockquote>
<p>Formik是一个小库，它可以帮助你解决3个最烦人的部分。</p>
</blockquote>
<!-- -->
<blockquote>
</blockquote>
<!-- -->
<blockquote>
<ul>
<li>在表单状态中获取数值和离开表单状态</li>
</ul>
</blockquote>
<!-- -->
<blockquote>
<ul>
<li>验证和错误信息</li>
</ul>
</blockquote>
<!-- -->
<blockquote>
<ul>
<li>处理表单提交</li>
</ul>
</blockquote>
<!-- -->
<blockquote>
</blockquote>
<!-- -->
<blockquote>
<p>通过将上述所有内容集中在一个地方，Formik将保持事情的条理性--使测试、重构和推理你的表单变得轻而易举。</p>
</blockquote>
<!-- -->
<p> 表单的代码可以从<i>src/AddPatientModal/AddPatientForm.tsx</i>中找到，一些表单字段的帮助器可以从<i>src/AddPatientModal/FormField.tsx</i>中找到。</p>
<!-- -->
<p> 看看<i>AddPatientForm.tsx</i>的顶部，你可以看到我们已经为我们的表单值创建了一个类型，我们简单地称之为<i>PatientFormValues</i>。这个类型是<i>Patient</i>类型的修改版，省略了<i>id</i>和<i>entries</i>属性。我们不希望用户在创建一个新病人时能够提交这些属性。<i>id</i>是由后端创建的，<i>entries</i>只能为现有病人添加。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type PatientFormValues <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Patient<span class="token punctuation">,</span> <span class="token string">&quot;id&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;entries&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 接下来，我们为我们的表单组件声明prop。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">values</span><span class="token operator">:</span> PatientFormValues</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onCancel</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 你可以看到，这个组件需要两个prop。<i>onSubmit</i>和<i>onCancel</i>。</p>
<!-- -->
<p> 这两个都是回调函数，返回<i>void</i>。<i>onSubmit</i>函数应该接收一个</p>
<!-- -->
<p>类型为<i>PatientFormValues</i>的对象作为参数，这样回调就可以处理我们的表单值。</p>
<!-- -->
<p> 看一下<i>AddPatientForm</i>函数组件，你可以看到我们已经绑定了<i>Props</i>作为我们组件的props，并且我们从这些props中解构<i>onSubmit</i>和<i>onCancel</i>。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">AddPatientForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onSubmit<span class="token punctuation">,</span> onCancel <span class="token punctuation">}</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 在我们继续之前，让我们看一下我们在<i>FormField.tsx</i>中的表单助手。</p>
<!-- -->
<p> 如果你检查从文件中导出的内容，你会发现类型<i>GenderOption</i>和功能组件<i>SelectField</i>和<i>TextField</i>。</p>
<!-- -->
<p> 让我们仔细看看<i>SelectField</i>和它周围的类型。</p>
<!-- -->
<p> 首先，我们为每个选项对象创建一个通用类型，它包含一个值和一个标签。这些是我们想在表单的选择字段中允许的选项对象的类型。</p>
<!-- -->
<p> 由于我们想允许的唯一选项是不同的性别，我们设定<i>value</i>应该是<i>Gender</i>的类型。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">export</span> type GenderOption <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> Gender<span class="token punctuation">;</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 在<i>AddPatientForm.tsx</i>中，我们为<i>genderOptions</i>变量使用<i>GenderOption</i>类型，声明它是一个包含<i>GenderOption</i>类型对象的数组。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token literal-property property">genderOptions</span><span class="token operator">:</span> GenderOption<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;Male&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> Gender<span class="token punctuation">.</span>Female<span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;Female&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> Gender<span class="token punctuation">.</span>Other<span class="token punctuation">,</span> <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;Other&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 接下来，看一下<i>SelectFieldProps</i>类型。它定义了我们的<i>SelectField</i>组件的prop的类型。在那里，你可以看到，<i>options</i>是一个<i>GenderOption</i>类型的数组。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js">type SelectFieldProps <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">options</span><span class="token operator">:</span> GenderOption<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 函数组件<i>SelectField</i>本身看起来有点神秘，但它只是渲染了标签，一个选择元素，和所有给定的选项元素（或者，实际上，它们的标签和值）。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">const</span> <span class="token function-variable function">FormikSelect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> field<span class="token punctuation">,</span> <span class="token operator">...</span>props <span class="token punctuation">}</span><span class="token operator">:</span> FieldProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>field<span class="token punctuation">}</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">SelectField</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> label<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token operator">:</span> SelectFieldProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">InputLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>label<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">InputLabel</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Field</span></span>
      <span class="token attr-name">fullWidth</span>
      <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">marginBottom</span><span class="token operator">:</span> <span class="token string">&quot;0.5em&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span></span>
      <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>FormikSelect<span class="token punctuation">}</span></span>
      <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>options<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">option</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MenuItem</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>option<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>option<span class="token punctuation">.</span>value<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token punctuation">{</span>option<span class="token punctuation">.</span>label <span class="token operator">||</span> option<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MenuItem</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Field</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 现在让我们继续看<i>TextField</i>组件。这个组件渲染了一个TextFieldMUI，它是一个带有标签的<a href="https://mui.com/components/text-fields/">Material UI TextField</a>。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">interface</span> <span class="token class-name">TextProps</span> <span class="token keyword">extends</span> <span class="token class-name">FieldProps</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">label</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token literal-property property">placeholder</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">TextField</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> field<span class="token punctuation">,</span> label<span class="token punctuation">,</span> placeholder <span class="token punctuation">}</span><span class="token operator">:</span> TextProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">marginBottom</span><span class="token operator">:</span> <span class="token string">&quot;1em&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TextFieldMUI</span></span>
      <span class="token attr-name">fullWidth</span>
      <span class="token attr-name">label</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span></span>
      <span class="token attr-name">placeholder</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>placeholder<span class="token punctuation">}</span></span>
      <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>field<span class="token punctuation">}</span></span>
    <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Typography</span></span> <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subtitle2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;red&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorMessage</span></span> <span class="token attr-name">name</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>field<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Typography</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 注意我们使用Formik <a href="https://jaredpalmer.com/formik/docs/api/errormessage">ErrorMessage</a>组件，在需要时为输入的内容渲染一个错误信息。</p>
<!-- -->
<p> 该组件在引擎盖下做了所有事情，我们不需要指定它应该做什么。</p>
<!-- -->
<p>通过使用prop<i>form</i>，我们也可以在该组件中获得错误信息。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">TextField</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> field<span class="token punctuation">,</span> label<span class="token punctuation">,</span> placeholder<span class="token punctuation">,</span> form <span class="token punctuation">}</span><span class="token operator">:</span> TextProps</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>errors<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span></code></pre></div>
<!-- -->
<p> 现在，回到<i>AddPatientForm.tsx</i>中的实际表单组件。</p>
<!-- -->
<p> 函数组件<i>AddPatientForm</i>渲染了一个<a href="https://jaredpalmer.com/formik/docs/api/formik">Formik组件</a>。Formik组件是一个包装器，它需要两个props。<i>initialValues</i>和<i>onSubmit</i>。这些prop的作用是不言而喻的。</p>
<!-- -->
<p> Formik包装器会跟踪你的表单的状态，然后通过props将它和一些可接受的方法和事件处理程序暴露给你的表单。</p>
<!-- -->
<p> 我们还使用了一个可选的<i>validate</i>prop，它期望一个验证函数并返回一个包含可能错误的对象。在这里，我们只检查我们的文本字段是不是虚假的，但它可以很容易地包含例如社会安全号码格式的一些验证或类似的东西。由这个函数定义的错误信息可以显示在相应字段的ErrorMessage组件上。</p>
<!-- -->
<p> 首先，看一下整个组件。我们以后会详细讨论不同的部分。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">onSubmit</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">values</span><span class="token operator">:</span> PatientFormValues</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token function-variable function">onCancel</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">AddPatientForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onSubmit<span class="token punctuation">,</span> onCancel <span class="token punctuation">}</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Formik</span></span>
      <span class="token attr-name">initialValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">ssn</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dateOfBirth</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">occupation</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">gender</span><span class="token operator">:</span> Gender<span class="token punctuation">.</span>Other
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token attr-name">onSubmit</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span></span>
      <span class="token attr-name">validate</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> requiredError <span class="token operator">=</span> <span class="token string">&quot;Field is required&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token literal-property property">errors</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>field<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> string <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          errors<span class="token punctuation">.</span>name <span class="token operator">=</span> requiredError<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>ssn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          errors<span class="token punctuation">.</span>ssn <span class="token operator">=</span> requiredError<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>dateOfBirth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          errors<span class="token punctuation">.</span>dateOfBirth <span class="token operator">=</span> requiredError<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>values<span class="token punctuation">.</span>occupation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          errors<span class="token punctuation">.</span>occupation <span class="token operator">=</span> requiredError<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> errors<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isValid<span class="token punctuation">,</span> dirty <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form ui<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Field</span></span>
              <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Name<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Name<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>TextField<span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Field</span></span>
              <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Social Security Number<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>SSN<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ssn<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>TextField<span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Field</span></span>
              <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Date Of Birth<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>YYYY-MM-DD<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dateOfBirth<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>TextField<span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Field</span></span>
              <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Occupation<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Occupation<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>occupation<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>TextField<span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SelectField</span></span>
              <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Gender<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span>
              <span class="token attr-name">options</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>genderOptions<span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
                  <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>secondary<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contained<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">float</span><span class="token operator">:</span> <span class="token string">&quot;left&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onCancel<span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  Cancel
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
                  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">float</span><span class="token operator">:</span> <span class="token string">&quot;right&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contained<span class="token punctuation">&quot;</span></span>
                  <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">!</span>dirty <span class="token operator">||</span> <span class="token operator">!</span>isValid<span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                  Add
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Formik</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> AddPatientForm<span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p>作为我们的Formik包装器的一个子节点，我们有一个<i>函数</i>来返回表单内容。</p>
<!-- -->
<p> 我们使用Formik&#x27;s <a href="https://jaredpalmer.com/formik/docs/api/form">Form</a> 来渲染实际的表单元素。在表单元素中，我们使用我们在<i>FormField.tsx</i>中创建的<i>TextField</i>和<i>SelectField</i>组件。</p>
<!-- -->
<p> 最后，我们创建两个按钮：一个用于取消表单提交，一个用于提交表单。取消按钮在被点击时直接调用<i>onCancel</i>回调。</p>
<!-- -->
<p> 提交按钮会触发Formik的onSubmit事件，它反过来使用组件prop中的<i>onSubmit</i>回调。只有当表单是<i>valid</i>和<i>dirty</i>时，提交按钮才会被启用，这意味着用户已经编辑了一些字段。</p>
<!-- -->
<p> 我们通过Formik处理表单提交，因为它允许我们在执行实际提交之前调用验证函数。如果验证函数返回任何错误，提交就被取消了。</p>
<!-- -->
<p>按钮被设置在Material UI <a href="https://mui.com/components/grid/#main-content">Grid</a>内，以便轻松地将它们挨在一起。</p>
<div class="gatsby-highlight" data-language="jsx"><pre><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
      <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>secondary<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contained<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">float</span><span class="token operator">:</span> <span class="token string">&quot;left&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onCancel<span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Cancel
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Grid</span></span> <span class="token attr-name">item</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
      <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">float</span><span class="token operator">:</span> <span class="token string">&quot;right&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">variant</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>contained<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">disabled</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token operator">!</span>dirty <span class="token operator">||</span> <span class="token operator">!</span>isValid<span class="token punctuation">}</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Add
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Grid</span></span><span class="token punctuation">&gt;</span></span></code></pre></div>
<!-- -->
<p> <i>onSubmit</i>回调已经从我们的病人列表页一路传递下来。</p>
<!-- -->
<p> 基本上，它向我们的后端发送HTTP POST请求，将从后端返回的病人添加到我们应用的状态中，并关闭模态。</p>
<!-- -->
<p> 如果后端返回一个错误，错误就会显示在表单上。</p>
<!-- -->
<p>这是我们的提交函数。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">submitNewPatient</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">values</span><span class="token operator">:</span> FormValues</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">data</span><span class="token operator">:</span> newPatient <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span>post<span class="token operator">&lt;</span>Patient<span class="token operator">&gt;</span><span class="token punctuation">(</span>
      <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>apiBaseUrl<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/patients</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      values
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;ADD_PATIENT&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> newPatient <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">closeModal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> unknown<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> errorMessage <span class="token operator">=</span> <span class="token string">&#x27;Something went wrong.&#x27;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>axios<span class="token punctuation">.</span><span class="token function">isAxiosError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
      errorMessage <span class="token operator">=</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>error<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setError</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 有了这个材料，你应该能够完成这部分的其余练习。当有疑问时，可以尝试阅读现有的代码来寻找如何进行的线索!</p>
</div></div>
<div class="banner spacing tasks content-banner" style="background-color:#D4FCB5;border-color:#D4FCB5"><div class="course-content " style="border-color:#D4FCB5;background-color:transparent"><div class="course-content-inner ">
<h3>Exercises 9.23.-9.27.</h3>
<h4>9.23: patientor, step8</h4>
<!-- -->
<p> 我们已经确定病人可以有不同种类的条目。我们还没有办法在我们的应用中为病人添加条目，所以，目前，它作为一个电子医疗记录是非常没用的。</p>
<!-- -->
<p> 你的下一个任务是在你的后端添加端点<i>/api/patients/:id/entries</i>，通过这个端点你可以为一个病人发布条目。</p>
<!-- -->
<p> 记住，我们的应用中有不同类型的条目，所以我们的后端应该支持所有这些类型，并检查每一种类型至少有所有必要的字段。</p>
<h4>9.24: patientor, step9</h4>
<!-- -->
<p> 现在我们的后端支持添加条目，我们要在前端添加相应的功能。在这个练习中，你应该添加一个为病人添加条目的表单。访问该表单的一个直观的地方是在病人的页面上。</p>
<!-- -->
<p> 在这个练习中，只需<strong>支持<i>一个</i>条目类型</strong>，你不必处理任何错误。如果在表单中填入有效的数据时，可以创建一个新的条目，这就足够了。</p>
<!-- -->
<p> 成功提交后，新条目应被添加到正确的病人中，病人页面上的条目应被更新以包含新条目。</p>
<!-- -->
<p> 如果你愿意，你可以在这个练习中重新使用<i>添加病人</i>表单中的一些代码，但这并不是一个要求。</p>
<!-- -->
<p> 注意文件<a href="https://github.com/fullstack-hy2020/patientor/blob/master/src/AddPatientModal/FormField.tsx#L58">FormField.tsx</a>有一个现成的组件叫<em>DiagnosisSelection</em>，可以用来设置字段<i>diagnoses</i>。</p>
<!-- -->
<p>它可以如下使用。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">AddEntryForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> onSubmit<span class="token punctuation">,</span> onCancel <span class="token punctuation">}</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="gatsby-highlight-code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> diagnoses <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useStateValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Formik
    initialValues<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      <span class="token comment">/// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
    onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span>
    validate<span class="token operator">=</span><span class="token punctuation">{</span><span class="token parameter">values</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">/// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
<span class="gatsby-highlight-code-line">    <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isValid<span class="token punctuation">,</span> dirty<span class="token punctuation">,</span> setFieldValue<span class="token punctuation">,</span> setFieldTouched <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Form className<span class="token operator">=</span><span class="token string">&quot;form ui&quot;</span><span class="token operator">&gt;</span>
          <span class="token comment">// ...</span>

<span class="gatsby-highlight-code-line">          <span class="token operator">&lt;</span>DiagnosisSelection</span><span class="gatsby-highlight-code-line">            setFieldValue<span class="token operator">=</span><span class="token punctuation">{</span>setFieldValue<span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">            setFieldTouched<span class="token operator">=</span><span class="token punctuation">{</span>setFieldTouched<span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">            diagnoses<span class="token operator">=</span><span class="token punctuation">{</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>diagnoses<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="gatsby-highlight-code-line">          <span class="token operator">/</span><span class="token operator">&gt;</span></span>
          <span class="token comment">// ...</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">&gt;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Formik<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></div>
<!-- -->
<p> 在类型上做一些小的调整，现成的组件<i>SelectField</i>可以用于健康检查等级。</p>
<h4>9.25: patientor, step10</h4>
<!-- -->
<p> 扩展你的解决方案，使其在某些所需的值丢失或格式不正确时显示错误信息。</p>
<h4>9.26: patientor, step11</h4>
<!-- -->
<p> 扩展你的解决方案，使其支持<i>两个</i>条目类型，并在某些必需的值丢失或格式不正确时显示错误信息。你不需要关心服务器响应中可能出现的错误。</p>
<!-- -->
<p> 做这个练习的最简单但肯定不是最优雅的方法是为每个不同的条目类型设置一个单独的表单。如果你只用一个表单，让这些类型正常工作可能是一个小小的挑战。</p>
<!-- -->
<p> 注意，如果你需要根据用户的选择改变显示的表单，你可以使用渲染函数的参数<em>values</em>访问表单的值。</p>
<div class="gatsby-highlight" data-language="js"><pre><code class="language-js"><span class="token operator">&lt;</span>Formik
  initialValues<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>onSubmit<span class="token punctuation">}</span>
  validate<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token operator">&gt;</span>
<span class="gatsby-highlight-code-line">  <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> isValid<span class="token punctuation">,</span> dirty<span class="token punctuation">,</span> setFieldValue<span class="token punctuation">,</span> setFieldTouched<span class="token punctuation">,</span> values <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span><span class="gatsby-highlight-code-line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span></span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Form className<span class="token operator">=</span><span class="token string">&quot;form ui&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Formik<span class="token operator">&gt;</span></code></pre></div>
<h4>9.27: patientor, step12</h4>
<!-- -->
<p> 扩展你的解决方案，使其支持<i>所有的条目类型</i>，并在某些必需的值丢失或格式不正确时显示错误信息。你不需要关心服务器响应中可能出现的错误。</p>
<h3>Submitting exercises and getting the credits</h3>
<!-- -->
<p> 这一部分的练习是通过<a href="https://studies.cs.helsinki.fi/stats/courses/fs-typescript">提交系统</a>提交的，就像前几部分一样，但与前几部分不同的是，提交到一个不同的 &quot;课程实例&quot;。请记住，你必须完成至少24道练习才能通过这一部分!</p>
<!-- -->
<p> 一旦你完成了练习并想获得学分，请通过练习提交系统告诉我们你已经完成了课程。</p>
<picture><img style="border-color:#D4FCB5" alt="Submissions" src="/static/d2a0d8c8142ce4113bdf5bfec2d1dd37/5a190/21.png"/></picture>
<!-- -->
<p> 注意 &quot;在Moodle中完成的考试 &quot;是指<a href="/en/part0/general_info#sign-up-for-the-exam">全栈开放课程的考试</a>，在你从这部分获得学分之前必须完成。</p>
<!-- -->
<p> <strong>注意</strong>你需要注册相应的课程部分以获得注册的学分，更多信息见<a href="/en/part0/general_info#parts-and-completion">这里</a>。</p>
<!-- -->
<p> 你可以通过点击其中一个旗子图标下载完成这部分的证书。旗帜图标与证书的语言相对应。</p>
</div></div></div></div></div><div class="container spacing element--flex element--centered"><a class="edit-link" target="__BLANK" href="https://github.com/fullstack-hy2020/fullstack-hy2020.github.io/edit/source/src/content/9/zh/part9d.md"><span>对讲课材料提出建议</span></a></div><div class="container spacing spacing--after-large prev-next__container "><a class="col-4--mobile push-right-1 prev" href="/zh/part9/type_script版的express应用"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->9c</p><b>上一部分</b></div></a><a class="col-4--mobile push-left-1 next" href="/zh/part10"><div class=" element--flex element--column"><p>Part<!-- --> <!-- -->10</p><b>下一部分</b></div></a></div></div></main><footer class="container spacing--after-small spacing--mobile element--flex" id="footer"><div class="col-5 push-right-3 col-10--mobile order-2--mobile order-2--tablet footer__links element--flex element--space-between"><a href="https://www.helsinki.fi/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain image--invert"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="/static/uoh_centre-3689cf9983a2ebc8089c8f078a9c4769.svg" alt="Helsingin yliopiston logo"/></div></div></a><a href="https://www.houston-inc.com/" class="col-5 col-4--mobile spacing--mobile"><div class="image col-6 image--contain image--invert"><div class="image__container"><img style="background-color:;background-opacity:0.5" class="image__content" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjQ3cHgiIGhlaWdodD0iODJweCIgdmlld0JveD0iMCAwIDI0NyA4MiIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPgogICAgPHRpdGxlPmxvZ28vaG91c3RvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxwb2x5Z29uIGlkPSJwYXRoLTEiIHBvaW50cz0iMCAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAwLjAyNjcxOTI2NzMgMTM4LjIwODE2NyAzNi40NjU0MzgxIDAgMzYuNDY1NDM4MSI+PC9wb2x5Z29uPgogICAgPC9kZWZzPgogICAgPGcgaWQ9ImxvZ28vaG91c3RvbiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImhvdXN0b25fc2ltcGxlLmVwcy1jb3B5LTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU0LjU4MTg5MywgMjMuMjYzMDQwKSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPGcgaWQ9IkNsaXAtMiI+PC9nPgogICAgICAgICAgICA8cGF0aCBkPSJNODIuODA1MTI5OCwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDI1LjUzNjU1MDkgTDg1Ljk5MzYyOSwyNS41MzY1NTA5IEw4NS45OTM2MjksMTMuNTA2NjYwMyBMOTAuNDA2NTQ5MywxMy41MDY2NjAzIEw5MC40MDY1NDkzLDEwLjQ0NTY3ODQgTDc4LjM3NTEwMzYsMTAuNDQ1Njc4NCBMNzguMzc1MTAzNiwxMy41MDY2NjAzIEw4Mi44MDUxMjk4LDEzLjUwNjY2MDMgWiBNOTYuNDkxMDQ5NSwxNy45NjM2ODg1IEM5Ni40OTEwNDk1LDIwLjU1OTU1NzIgOTguMzE3ODU1NywyMi43MDc5ODQyIDEwMC44ODYxNTcsMjIuNzA3OTg0MiBDMTAzLjQ1NDg4MiwyMi43MDc5ODQyIDEwNS4yNDcxOTQsMjAuNTk1NDY1NyAxMDUuMjQ3MTk0LDE4LjAxNzk3NTMgTDEwNS4yNDcxOTQsMTguMDAwMDIxMSBDMTA1LjI0NzE5NCwxNS40MDQyOTM3IDEwMy40MjA1MjksMTMuMjU1ODY2NyAxMDAuODUyMjI4LDEzLjI1NTg2NjcgQzk4LjI4MzUwMjMsMTMuMjU1ODY2NyA5Ni40OTEwNDk1LDE1LjM2ODM4NTMgOTYuNDkxMDQ5NSwxNy45NDU3MzQzIEw5Ni40OTEwNDk1LDE3Ljk2MzY4ODUgWiBNOTMuMTQ3MDQxMywxOC4wMTc5NzUzIEw5My4xNDcwNDEzLDE3Ljk4MjA2NjkgQzkzLjE0NzA0MTMsMTMuNjg1NDk1NiA5Ni40MDQ4MTI3LDEwLjE3NjkzMDYgMTAwLjg4NjE1NywxMC4xNzY5MzA2IEMxMDUuMzY3OTI1LDEwLjE3NjkzMDYgMTA4LjU5MTM0MywxMy42NDk3Mjg1IDEwOC41OTEzNDMsMTcuOTQ1NzM0MyBMMTA4LjU5MTM0MywxNy45NjM2ODg1IEMxMDguNTkxMzQzLDIyLjI2MDI1OTggMTA1LjMzMzU3MiwyNS43Njg4MjQ3IDEwMC44NTIyMjgsMjUuNzY4ODI0NyBDOTYuMzcwMzE4LDI1Ljc2ODgyNDcgOTMuMTQ3MDQxMywyMi4zMTQxMjI0IDkzLjE0NzA0MTMsMTguMDE3OTc1MyBMOTMuMTQ3MDQxMywxOC4wMTc5NzUzIFogTTcwLjQxMTkxMzcsMjIuNzk3MDQ4NSBDNjguNzU2ODc0MiwyMi43OTcwNDg1IDY3LjM3ODIxNjYsMjIuMDgxMjgzMSA2Ni4wNjg0MDcsMjAuOTcxNzk3NCBMNjQuMTcyMTg3MiwyMy4zMTY0NDg0IEM2NS45MTMxODA4LDI0LjkyNzk0NTQgNjguMTM2Njc2MiwyNS43MzMzNDA0IDcwLjM0MzA2NTYsMjUuNzMzMzQwNCBDNzMuNDgwMTA1NSwyNS43MzMzNDA0IDc1LjY2OTI0NzYsMjQuMDUwMTY4IDc1LjY2OTI0NzYsMjEuMDYxMDAzIEw3NS42NjkyNDc2LDIxLjAyNTA5NDUgQzc1LjcyMTEzMSwxOC4zOTM0NTg4IDc0LjA0ODU2MTUsMTcuMzAxNzg1OCA3MS4xMDExMDExLDE2LjQ5NTgyNTMgQzY4LjU4NDY4MzQsMTUuODMzOTIyNiA2Ny45NjM5MTk5LDE1LjUxMTMxMjIgNjcuOTYzOTE5OSwxNC41MDg5ODYyIEw2Ny45NjM5MTk5LDE0LjQ3MzA3NzggQzY3Ljk2MzkxOTksMTMuNzM4OTM0MSA2OC42MDIyMTM1LDEzLjE2NjY2MTEgNjkuODI1NjQ0OSwxMy4xNjY2NjExIEM3MS4wNDk2NDE4LDEzLjE2NjY2MTEgNzIuMzA3OTkyMSwxMy43MjA5Nzk5IDczLjYwMDgzNywxNC42NTIwNTQ1IEw3NS4yNTU1OTM4LDEyLjE0NTk1NjkgQzczLjc4OTk5MjUsMTAuOTEwNjUwMiA3MS45ODA3MTY0LDEwLjIzMDM2OTIgNjkuODYwNTYzNywxMC4yMzAzNjkyIEM2Ni44OTU3MTQ3LDEwLjIzMDM2OTIgNjQuNzc1NTYyLDEyLjAzODY1NTcgNjQuNzc1NTYyLDE0Ljc3NzU5MjYgTDY0Ljc3NTU2MiwxNC44MTMwNzY5IEM2NC43NzU1NjIsMTcuODAyNjY2MSA2Ni42NzEwNzQ5LDE4LjY0NDUzNSA2OS41ODQxODE5LDE5LjQzMjExNzMgQzcyLjAxNDY0NTYsMjAuMDc2NjMxMiA3Mi41MTQ2Nzc2LDIwLjUwNjI2MDEgNzIuNTE0Njc3NiwyMS4zNDc3MDQ5IEw3Mi41MTQ2Nzc2LDIxLjM4MzA0NzkgQzcyLjUxNDY3NzYsMjIuMjYwMjU5OCA3MS43MjIyODg4LDIyLjc5NzA0ODUgNzAuNDExOTEzNywyMi43OTcwNDg1IEw3MC40MTE5MTM3LDIyLjc5NzA0ODUgWiBNMzEuMzM2NDY5NywxNy45NjM2ODg1IEMzMS4zMzY0Njk3LDIwLjU1OTU1NzIgMzMuMTYzNywyMi43MDc5ODQyIDM1LjczMTg1OTksMjIuNzA3OTg0MiBDMzguMzAwMTYxMSwyMi43MDc5ODQyIDQwLjA5MjQ3MjYsMjAuNTk1NDY1NyA0MC4wOTI0NzI2LDE4LjAxNzk3NTMgTDQwLjA5MjQ3MjYsMTguMDAwMDIxMSBDNDAuMDkyNDcyNiwxNS40MDQyOTM3IDM4LjI2NTI0MjMsMTMuMjU1ODY2NyAzNS42OTY5NDEsMTMuMjU1ODY2NyBDMzMuMTI5MjA1MywxMy4yNTU4NjY3IDMxLjMzNjQ2OTcsMTUuMzY4Mzg1MyAzMS4zMzY0Njk3LDE3Ljk0NTczNDMgTDMxLjMzNjQ2OTcsMTcuOTYzNjg4NSBaIE0yOC4wMDk3MDg5LDE4LjAxNzk3NTMgTDI4LjAwOTcwODksMTcuOTgyMDY2OSBDMjguMDA5NzA4OSwxMy42ODU0OTU2IDMxLjI2NzQ4MDMsMTAuMTc2OTMwNiAzNS43NDg4MjQ1LDEwLjE3NjkzMDYgQzQwLjIzMDczNDIsMTAuMTc2OTMwNiA0My40MzYxOTgsMTMuNjQ5NzI4NSA0My40NTQwMTA5LDE3Ljk0NTczNDMgTDQzLjQ1NDAxMDksMTcuOTYzNjg4NSBDNDMuNDU0MDEwOSwyMi4yNjAyNTk4IDQwLjE5NjIzOTUsMjUuNzY4ODI0NyAzNS43MTQ4OTUzLDI1Ljc2ODgyNDcgQzMxLjIzMjU2MTUsMjUuNzY4ODI0NyAyOC4wMDk3MDg5LDIyLjMxNDEyMjQgMjguMDA5NzA4OSwxOC4wMTc5NzUzIEwyOC4wMDk3MDg5LDE4LjAxNzk3NTMgWiBNNTMuODMwNDE3MSwyNS43MzMzNDA0IEM1Ny43NDI4ODEyLDI1LjczMzM0MDQgNjAuMjA3ODM5NywyMy40OTU4NDkyIDYwLjIwNzgzOTcsMTguOTMwNjcxNSBMNjAuMjA3ODM5NywxMC40MjcxNTg3IEw1Ny4wMDE4MTAzLDEwLjQyNzE1ODcgTDU3LjAwMTgxMDMsMTkuMDczNzM5OCBDNTcuMDAxODEwMywyMS40NzI2Nzc2IDU1LjgxMjMwODEsMjIuNjkwMDMgNTMuODY0NzcwNCwyMi42OTAwMyBDNTEuOTE3Mzc0MSwyMi42OTAwMyA1MC43Mjc3MzA1LDIxLjQxODk1NjMgNTAuNzI3NzMwNSwxOC45NjY1OCBMNTAuNzI3NzMwNSwxMC40MjcxNTg3IEw0Ny41Mzg2NjU4LDEwLjQyNzE1ODcgTDQ3LjUzODY2NTgsMTkuMDM3ODMxMyBDNDcuNTM4NjY1OCwyMy40Nzc4OTUgNDkuOTE3OTUzLDI1LjczMzM0MDQgNTMuODMwNDE3MSwyNS43MzMzNDA0IEw1My44MzA0MTcxLDI1LjczMzM0MDQgWiBNMy4xNTQ1NywzMy4xOTgxOTQ4IEwxMzUuMDM2NjMyLDMzLjE5ODE5NDggTDEzNS4wMzY2MzIsMy4zMDI0NDQ4OCBMMy4xNTQ1NywzLjMwMjQ0NDg4IEwzLjE1NDU3LDMzLjE5ODE5NDggWiBNMCwzNi40NzM5MjA0IEwxMzguMjA4MTY3LDM2LjQ3MzkyMDQgTDEzOC4yMDgxNjcsMC4wMjY3MTkyNjczIEwwLDAuMDI2NzE5MjY3MyBMMCwzNi40NzM5MjA0IFogTTE0LjgyMzExNDMsMTkuNDg1NDE0NCBMMjAuNzE4NjAwNSwxOS40ODU0MTQ0IEwyMC43MTg2MDA1LDI1LjUzNjU1MDkgTDIzLjkwNzY2NTIsMjUuNTM2NTUwOSBMMjMuOTA3NjY1MiwxMC40NDU2Nzg0IEwyMC43MTg2MDA1LDEwLjQ0NTY3ODQgTDIwLjcxODYwMDUsMTYuNDA2MDU0MiBMMTQuODIzMTE0MywxNi40MDYwNTQyIEwxNC44MjMxMTQzLDEwLjQ0NTY3ODQgTDExLjYzNDc1NjUsMTAuNDQ1Njc4NCBMMTEuNjM0NzU2NSwyNS41MzY1NTA5IEwxNC44MjMxMTQzLDI1LjUzNjU1MDkgTDE0LjgyMzExNDMsMTkuNDg1NDE0NCBaIE0xMTUuODY0OTIyLDE1Ljk0MTUwNjUgTDEyMi44OTc2MDIsMjUuNTM2NTUwOSBMMTI1LjYyMDk4OCwyNS41MzY1NTA5IEwxMjUuNjIwOTg4LDEwLjQ0NTY3ODQgTDEyMi40NjY0MTgsMTAuNDQ1Njc4NCBMMTIyLjQ2NjQxOCwxOS43MzYyMDggTDExNS42NTgzNzcsMTAuNDQ1Njc4NCBMMTEyLjcxMDkxNywxMC40NDU2Nzg0IEwxMTIuNzEwOTE3LDI1LjUzNjU1MDkgTDExNS44NjQ5MjIsMjUuNTM2NTUwOSBMMTE1Ljg2NDkyMiwxNS45NDE1MDY1IEwxMTUuODY0OTIyLDE1Ljk0MTUwNjUgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iIzAwMDEwNSIgbWFzaz0idXJsKCNtYXNrLTIpIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=" alt="Houston inc. logo"/></div></div></a></div><div class="col-5 col-5--mobile order-1--mobile order-1--tablet footer__navigation element--flex"><div class="footer__navigation-link-container"><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/zh/about">关于课程</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/zh/#course-contents">课程内容</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/zh/faq">常见问题</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/zh/companies">合作伙伴</a><a class="footer__navigation-link nav-item-hover" style="margin-left:4.5rem" href="/zh/challenge">挑战</a></div></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-135975842-1', 'fullstackopen.com', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/zh/part9/利用_type_script编写_react应用";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-5d555b892e19f2874c79.js"],"app":["/app-7d4c4feb9d684f89c0fd.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3224e953affbf6093df0.js"],"component---src-pages-about-en-js":["/component---src-pages-about-en-js-e80fa4494e29208860dd.js"],"component---src-pages-about-es-js":["/component---src-pages-about-es-js-548a77edcf8860282da6.js"],"component---src-pages-about-fr-js":["/component---src-pages-about-fr-js-72c926817ac1bbd6b5e2.js"],"component---src-pages-about-js":["/component---src-pages-about-js-0c8c560113e9f53676ee.js"],"component---src-pages-about-ptbr-js":["/component---src-pages-about-ptbr-js-8bb7e7849fe86c34e4d6.js"],"component---src-pages-about-zh-js":["/component---src-pages-about-zh-js-1334e4eb2f567514b5e3.js"],"component---src-pages-challenge-en-js":["/component---src-pages-challenge-en-js-ad7b255152708856487e.js"],"component---src-pages-challenge-es-js":["/component---src-pages-challenge-es-js-b68956ee9b1d1fb7bcac.js"],"component---src-pages-challenge-fr-js":["/component---src-pages-challenge-fr-js-3e9ec90b7b1a680f460b.js"],"component---src-pages-challenge-js":["/component---src-pages-challenge-js-e7cb68010c620894f849.js"],"component---src-pages-challenge-ptbr-js":["/component---src-pages-challenge-ptbr-js-a5ab6d0707cea131ffb0.js"],"component---src-pages-challenge-zh-js":["/component---src-pages-challenge-zh-js-e36530e030cd5e551030.js"],"component---src-pages-companies-en-js":["/component---src-pages-companies-en-js-e390bd808fac3241e036.js"],"component---src-pages-companies-es-js":["/component---src-pages-companies-es-js-66f38f9f0c8e8b6c2c34.js"],"component---src-pages-companies-fr-js":["/component---src-pages-companies-fr-js-54001d9847e4ec6876c5.js"],"component---src-pages-companies-js":["/component---src-pages-companies-js-75fe6b5724c853dec1c6.js"],"component---src-pages-companies-ptbr-js":["/component---src-pages-companies-ptbr-js-0661801dad3e230d7e66.js"],"component---src-pages-companies-zh-js":["/component---src-pages-companies-zh-js-cb01411b8692f7b35cb7.js"],"component---src-pages-faq-en-js":["/component---src-pages-faq-en-js-d63a052c1a15b51b4e2d.js"],"component---src-pages-faq-es-js":["/component---src-pages-faq-es-js-bcff3542c712c88a6928.js"],"component---src-pages-faq-fr-js":["/component---src-pages-faq-fr-js-77fb34ae356ae091ab33.js"],"component---src-pages-faq-js":["/component---src-pages-faq-js-8393fda79721be032c12.js"],"component---src-pages-faq-ptbr-js":["/component---src-pages-faq-ptbr-js-544e30e1aa867562567d.js"],"component---src-pages-faq-zh-js":["/component---src-pages-faq-zh-js-9951a982a0a5980c61ee.js"],"component---src-pages-index-en-js":["/component---src-pages-index-en-js-159370e2dd6eb4dabcfa.js"],"component---src-pages-index-es-js":["/component---src-pages-index-es-js-d2edafadf60484808376.js"],"component---src-pages-index-fr-js":["/component---src-pages-index-fr-js-a0f9f784e32aefce7714.js"],"component---src-pages-index-js":["/component---src-pages-index-js-9b793b779ca2435dbaf9.js"],"component---src-pages-index-ptbr-js":["/component---src-pages-index-ptbr-js-c154627ba772165f5631.js"],"component---src-pages-index-zh-js":["/component---src-pages-index-zh-js-dca3a5c2195dbf67bb99.js"],"component---src-pages-search-en-js":["/component---src-pages-search-en-js-57acbe55825fbc71de61.js"],"component---src-pages-search-es-js":["/component---src-pages-search-es-js-e7d8bd2a6a201883295c.js"],"component---src-pages-search-fr-js":["/component---src-pages-search-fr-js-08502eec0ecae0702b24.js"],"component---src-pages-search-js":["/component---src-pages-search-js-6a7301a08fa1e893839d.js"],"component---src-pages-search-ptbr-js":["/component---src-pages-search-ptbr-js-ac35b648256abeaf4957.js"],"component---src-pages-search-zh-js":["/component---src-pages-search-zh-js-949409b392ed3c148fee.js"],"component---src-templates-content-template-js":["/component---src-templates-content-template-js-4406c369231162a4fbf6.js"],"component---src-templates-part-intro-template-js":["/component---src-templates-part-intro-template-js-76dff117ddcb2ae155cd.js"]};/*]]>*/</script><script src="/polyfill-5d555b892e19f2874c79.js" nomodule=""></script><script src="/webpack-runtime-fd77dc297b1e1c2d561f.js" async=""></script><script src="/styles-0ec71dd62c66cb95665c.js" async=""></script><script src="/framework-815fd14513c40a98f576.js" async=""></script><script src="/app-7d4c4feb9d684f89c0fd.js" async=""></script><script src="/commons-812a674efd622c81812e.js" async=""></script><script src="/0f38e1748197b5a213e89e1df6d5db13e5e7856d-d76ddecd1e2b1493a5eb.js" async=""></script><script src="/881c8b7a675fce2ced9b02a4a469c0443336d5f7-8e4483d8931a6891bd9a.js" async=""></script><script src="/2d359d657f593a857b7e0d916f29b2126c86bebb-dcc47509ede0fcbd2a57.js" async=""></script><script src="/d2b1ca4b1069f7cfc0ac3ccd2306fbb8e76bcf35-64ebe0edfea870eb240d.js" async=""></script><script src="/component---src-templates-content-template-js-4406c369231162a4fbf6.js" async=""></script></body></html>